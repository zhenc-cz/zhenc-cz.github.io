<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨ | éšé£</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="/img/pwa/favicon.ico"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=2.0.7"><!-- inject head--><link rel="canonical" href="http://zhenc-cz.github.io/2024/08/08/GEE%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8/"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"><!-- aplayer--><!-- swiper--><!-- fancybox ui--><!-- katex--><!-- Open Graph--><meta name="description" content="æ”¶é›†ä¸€äº›GEE(Google Earth Engine)çš„åŸºç¡€è¯­æ³•ä»¥åŠä¸€äº›ç®€å•åº”ç”¨æŠ€å·§ã€‚"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="éšé£"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/pwa/favicon.ico"><link rel="apple-touch-icon" href="/img/pwa/favicon.ico" sizes="180x180"><script>console.log(' %c Solitude %c ' + '2.0.7' + ' %c https://github.com/everfu/hexo-theme-solitude',
    'background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff',
    'background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff',
    'background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff')
</script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)
    
                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()
    
                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }
    
              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })
    
              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}
        
                if (name && keyObj[name]) return
        
                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
        }
    })()</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: undefined,
    runtime: '2024-08-07 00:00:00',
    lazyload: {
        enable: false,
        error: '/img/error_load.avif'
    },
    copyright: {"limit":50,"author":"ä½œè€…: éšé£","link":"é“¾æ¥: ","source":"æ¥æº: éšé£","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚ å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"},
    highlight: {"limit":200,"expand":true,"copy":true,"syntax":"prismjs"},
    randomlink: false,
    lang: {"theme":{"dark":"å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼","light":"å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"},"copy":{"success":"å¤åˆ¶æˆåŠŸ","error":"å¤åˆ¶å¤±è´¥"},"backtop":"è¿”å›é¡¶éƒ¨","time":{"day":"å¤©å‰","hour":"å°æ—¶å‰","just":"åˆšåˆš","min":"åˆ†é’Ÿå‰","month":"ä¸ªæœˆå‰"},"day":" å¤©","f12":"å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ï¼Œè¯·éµå¾ªGPLåè®®ã€‚","totalk":"æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¾“å…¥è¯„è®ºå³å¯"},
    aside: {
        sayhello: {
            morning: "âœ¨ Good morning. It's a new day",
            noon: "It's time for a midday break",
            afternoon: "Tea time. ğŸµ",
            night: "early bedtime",
            goodnight: "Good night ğŸ˜´",
        },
        sayhello2: ["You'll make it.","You're gonna make it.","Good luck, stranger."],
        sayhello3: {
            prefix: 'å¥½ä¹…ä¸è§ï¼Œ',
            back: 'æ¬¢è¿å†æ¬¡å›æ¥ï¼Œ',
        },
    },
    covercolor: {
        enable: false
    },
    comment: false,
    lightbox: 'null',
    post_ai: false,
    right_menu: false,
    lure: false,
    expire: false,
};</script><!-- page-config head--><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: false,
    ai_text: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- background img--><!-- loading--><!-- console--><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">5</div></a></div></div></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude fa-solid fa-circle-half-stroke"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">project</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" title="Solitude"><img class="nolazyload back-menu-item-icon" src="/img/pwa/favicon.ico" alt="Solitude"><span class="back-menu-item-text">Solitude</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>Article</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  fas fa-folder-closed"></i><span>Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  fas fa-clone"></i><span>Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  fas fa-tags"></i><span>Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>About</span></a></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/">ç½‘ç«™æ­å»º<sup>1</sup></a><a href="/tags/GEE/">GEE<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•<sup>1</sup></a><a href="/tags/%E9%81%A5%E6%84%9F/">é¥æ„Ÿ<sup>1</sup></a><a href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/">äº‘è®¡ç®—<sup>1</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon solitude fab fa-squarespace"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">project</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" title="Solitude"><img class="nolazyload back-menu-item-icon" src="/img/pwa/favicon.ico" alt="Solitude"><span class="back-menu-item-text">Solitude</span></a></div></div></div></div><a id="site-name" href="/" title="è¿”å›åšå®¢ä¸»é¡µ"><span class="title">Solitude</span><i class="solitude fa-solid fa-home"></i></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>Article</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  fas fa-folder-closed"></i><span>Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  fas fa-clone"></i><span>Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  fas fa-tags"></i><span>Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>About</span></a></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html" title=""><i class="solitude fas fa-train"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude fa-solid fa-arrow-up"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude fa-solid fa-bars"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="/img/default.avif" alt="GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E9%81%A5%E6%84%9F/">é¥æ„Ÿ</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/GEE/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>GEE</span></a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>ç®—æ³•</span></a><a class="post-meta__tags" href="/tags/%E9%81%A5%E6%84%9F/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>é¥æ„Ÿ</span></a><a class="post-meta__tags" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>äº‘è®¡ç®—</span></a></div></div></div></div><h1 class="post-title">GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="å‘å¸ƒäº 2024-08-08 21:05:00"><i class="post-meta-icon solitude fa-solid fa-calendar-days"></i><time datetime="2024-08-08T13:05:00.000Z">2024-08-08T13:05:00.000Z</time></span><span class="post-meta-date" title="æœ€åæ›´æ–°äº 2024-08-08 21:38:23"><i class="post-meta-icon solitude fa-solid fa-arrow-rotate-right"></i><time datetime="2024-08-08T13:38:23.259Z">2024-08-08T13:38:23.259Z</time></span><span class="post-meta-position" title="ä½œè€…IPå½’å±åœ°ä¸ºChina-NanChang"><i class="post-meta-icon solitude fa-solid fa-map"></i><span>China-NanChang</span></span><a class="post-meta-pv" href="/2024/08/08/GEE%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8/" title="æ–‡ç« çƒ­åº¦"><i class="post-meta-icon solitude fa-solid fa-fire-flame-curved"></i></a></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>1ã€ä»€ä¹ˆæ˜¯Earth Engineï¼Ÿ		</p>
<p>â€‹		Earth Engineæ˜¯ä¸€ä¸ªç§‘å­¦åˆ†æå’Œå¯è§†åŒ–åœ°ç†ç©ºé—´æ•°æ®é›†çš„å¹³å°ï¼Œé¢å‘å­¦æœ¯ã€éè¥åˆ©ç»„ç»‡ã€ä¼ä¸šå’Œæ”¿åºœç”¨æˆ·ã€‚åœ°çƒå¼•æ“æ‹¥æœ‰å«æ˜Ÿå›¾åƒï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å…¬å…±æ•°æ®æ¡£æ¡ˆä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬40å¤šå¹´å‰çš„å†å²åœ°çƒå›¾åƒã€‚æ¯å¤©æ‘„å–çš„å›¾åƒå¯ç”¨äºå…¨çƒèŒƒå›´çš„æ•°æ®æŒ–æ˜ã€‚Earth Engineè¿˜æä¾›apiå’Œå…¶ä»–å·¥å…·ï¼Œä»¥æ”¯æŒå¤§å‹æ•°æ®é›†çš„åˆ†æã€‚</p>
<p>2ã€Earth Engineä¸Google Earth æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p>â€‹		Google Earth   èƒ½å¤Ÿé€šè¿‡ä¸è™šæ‹Ÿåœ°çƒçš„äº¤äº’æ¥æ—…è¡Œã€æ¢ç´¢å’Œäº†è§£ä¸–ç•Œï¼Œå¯ä»¥æŸ¥çœ‹å«æ˜Ÿå›¾åƒã€åœ°å›¾ã€åœ°å½¢ã€3Då»ºç­‘ç­‰ã€‚Earth Engineæ˜¯ä¸€ç§åˆ†æåœ°ç†ç©ºé—´ä¿¡æ¯çš„å·¥å…·ï¼Œå¯ä»¥åˆ†ææ£®æ—å’Œæ°´çš„è¦†ç›–ã€åœŸåœ°åˆ©ç”¨çš„å˜åŒ–ï¼Œæˆ–è€…è¯„ä¼°å†œç”°çš„å¥åº·çŠ¶å†µï¼Œè¿˜æœ‰è®¸å¤šå…¶ä»–å¯èƒ½çš„åˆ†æã€‚</p>
<h2 id="ä¸€ã€åŸºç¡€æ•°æ®ç»“æ„"><a href="#ä¸€ã€åŸºç¡€æ•°æ®ç»“æ„" class="headerlink" title="ä¸€ã€åŸºç¡€æ•°æ®ç»“æ„"></a>ä¸€ã€åŸºç¡€æ•°æ®ç»“æ„</h2><h3 id="1ã€å­—ç¬¦String"><a href="#1ã€å­—ç¬¦String" class="headerlink" title="1ã€å­—ç¬¦String"></a>1ã€å­—ç¬¦String</h3><p>å­—ç¬¦å˜é‡</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">)</span>ï¼›

åˆ›å»ºä¸€ä¸ªåä¸º string çš„å˜é‡<span class="token punctuation">,</span>ee<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>èµ‹ç»™å˜é‡string
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>å­—ç¬¦é“¾æ¥è€¦åˆ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> cat_string <span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">cat</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span>ï¼›

å°†<span class="token punctuation">.</span><span class="token punctuation">(</span>ç‚¹<span class="token punctuation">)</span>å‰è¾¹çš„æ–‡æœ¬å’Œcat åè¾¹çš„æ‹¬å·é‡Œè¾¹çš„æ–‡æœ¬è¿›è¡Œåˆå¹¶ å‡½æ•°å‰é¢çš„è¿æ¥å‡½æ•°åé¢çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>æ›¿æ¢å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string_2 <span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> old<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

å¯¹<span class="token punctuation">.</span><span class="token punctuation">(</span>ç‚¹<span class="token punctuation">)</span>ä¹‹å‰çš„æ–‡æœ¬è¿›è¡Œæ›¿æ¢æ“ä½œï¼Œæ›¿æ¢çš„æ–¹æ³•æ˜¯æŠŠåŸæ¥æ–‡æœ¬ä¸­ç¬¬ä¸€ä¸ªåŒ…å«æ–‡æœ¬<span class="token number">1</span>çš„å†…å®¹æ›¿æ¢ä¸ºæ–‡æœ¬<span class="token number">2</span>çš„å†…å®¹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>åŒ¹é…å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string_2<span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

å¯¹<span class="token punctuation">.</span><span class="token punctuation">(</span>ç‚¹<span class="token punctuation">)</span>ä¹‹å‰çš„æ–‡æœ¬è¿›è¡ŒåŒ¹é…æ“ä½œï¼Œå–å‡ºæ¥cå¹¶èµ‹å€¼ç»™string_2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>åˆ†å‰²æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span> <span class="token string">"A_B_C_D"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string_2<span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">'_'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">'_'</span> <span class="token punctuation">)</span><span class="token function">æŠŠå‰è¾¹æ–‡æœ¬æ ¹æ®æ‹¬å·å†…çš„æ–‡æœ¬</span><span class="token punctuation">(</span>æˆ–è€…ç¬¦å·<span class="token punctuation">)</span>è¿›è¡Œåˆ†å‰²åå¾—åˆ°æ–°çš„List æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>æˆªå–æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span> <span class="token string">"1234 5678 90AB"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string_2<span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string_3<span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string_4<span class="token operator">=</span> string_1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯å°†å‰è¾¹çš„æ–‡æœ¬å–å‡ºæ¥ä¸€éƒ¨åˆ†ï¼Œå…·ä½“çš„å–æ³•æ ¹æ®æ‹¬å·å†…çš„æ•°å­—æ¥ç¡®å®šï¼Œ
<span class="token function">å¦‚æœæ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå–ä»ç¬¬ä¸€ä¸ªæ•°å­—</span><span class="token punctuation">(</span>ä¸åŒ…å«<span class="token punctuation">)</span><span class="token function">å¼€å§‹åˆ°ç¬¬äºŒä¸ªæ•°å­—</span><span class="token punctuation">(</span>åŒ…å«<span class="token punctuation">)</span>æˆªæ­¢çš„æ–‡æœ¬éƒ¨åˆ†ï¼›
<span class="token function">å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œå°±ä»è¿™ä¸ªæ•°å­—å¼€å§‹</span><span class="token punctuation">(</span>ä¸åŒ…å«<span class="token punctuation">)</span>å–åˆ°æ–‡æœ¬ç»“å°¾ã€‚
å‡å¦‚è¿™ä¸ªæ•°å­—æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå¼€å§‹çš„ä½ç½®å°±æ˜¯ä»å³å¾€å·¦æ•°çš„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>é•¿åº¦æµ‹é‡å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> string <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span> <span class="token string">'ABCD 1234'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> string <span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

è®¡ç®—ç»™å®šæ–‡æœ¬é•¿åº¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="2ã€æ•°å­—Number"><a href="#2ã€æ•°å­—Number" class="headerlink" title="2ã€æ•°å­—Number"></a>2ã€æ•°å­—Number</h3><p>åˆ›å»ºæ•°å­—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> number<span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">1324567980</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>æ•°å­—æ ¼å¼çš„è½¬æ¢</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> number_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">3.14159</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_2 <span class="token operator">=</span> number_1<span class="token punctuation">.</span><span class="token function">int8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_3 <span class="token operator">=</span> number_1<span class="token punctuation">.</span><span class="token function">toInt8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


sconsoleï¼š 
    <span class="token operator">-</span><span class="token number">3.14159</span>
	<span class="token operator">-</span><span class="token number">3</span>
	<span class="token operator">-</span><span class="token number">3</span>


å…¶å®ƒå¸¸è§æ•°å­—è½¬æ¢
<span class="token punctuation">.</span>unit8<span class="token operator">/</span><span class="token number">16</span><span class="token operator">/</span><span class="token number">32</span><span class="token operator">/</span><span class="token number">64</span> <span class="token operator">=</span> <span class="token punctuation">.</span>toUnit <span class="token number">8</span><span class="token operator">/</span><span class="token number">16</span><span class="token operator">/</span><span class="token number">32</span><span class="token operator">/</span><span class="token number">64</span>
<span class="token punctuation">.</span>float <span class="token operator">=</span> <span class="token punctuation">.</span>toFloat
<span class="token punctuation">.</span>double <span class="token operator">=</span> <span class="token punctuation">.</span>toDouble<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ•°å­—æ¯”è¾ƒ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">number<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=</span> 
number<span class="token punctuation">.</span><span class="token function">neq</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   â‰ 
number<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">></span>
number<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   â‰¥
number<span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">&lt;</span>
number<span class="token punctuation">.</span><span class="token function">lte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   â‰¤
   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ•°å­—é€»è¾‘æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">number<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
number<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
number<span class="token punctuation">.</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>å…¶å®ƒå‡½æ•°æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> number_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">3.1415</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_2 <span class="token operator">=</span> number_1<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

è¿›è¡Œå‘ä¸‹å–æ•´å’Œå–ç»å¯¹å€¼æ“ä½œ

number<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		å››èˆäº”å…¥ 
number<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		å‘ä¸Šå–æ•´ 
number<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		å¼€æ–¹ 
number<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		å¹‚ 
number<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		å¯¹æ•° 
number<span class="token punctuation">.</span><span class="token function">log10</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token number">10</span> åº•å¯¹æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ•°å­—æ•°å­¦è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> number_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">3.14</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">1.41</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> number_2<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>number_1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ä»£è¡¨ç”¨å‰è¾¹çš„æ•°å­—å‡å»åè¾¹çš„æ•°å­—çš„å«ä¹‰

å…¶å®ƒæ•°å­¦è¿ç®—
number<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			åŠ 
number<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		ä¹˜
number<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			é™¤
number<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			æœ€å¤§å€¼
number<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			æœ€å°å€¼
number<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			å–æ¨¡
number<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>			å–ç¬¬ä¸€ä¸ª
number<span class="token punctuation">.</span><span class="token function">first_nonzero</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	å–éé›¶ç¬¬ä¸€ä¸ª<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ•°å­—çš„æ˜¯éæ¯”è¾ƒ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span><span class="token function">IsEqual</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">var</span> number_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">3.14</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">3.14</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_3 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">3.141</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> True_false_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span><span class="token function">IsEqual</span><span class="token punctuation">(</span> number_1 <span class="token punctuation">,</span>number_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> True_false_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span><span class="token function">IsEqual</span><span class="token punctuation">(</span> number_2<span class="token punctuation">,</span> number_3 <span class="token punctuation">)</span><span class="token punctuation">;</span>

æ¯”è¾ƒæ‹¬å·å†…çš„ä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒçš„è¯è¿”å›ä¸€ä¸ªæ–‡æœ¬<span class="token boolean">true</span>ï¼Œå¦‚æœä¸åŒçš„è¯è¿”å›ä¸€ä¸ªæ–‡æœ¬<span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ä½è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">bitwise<span class="token punctuation">.</span>And<span class="token operator">/</span>Or<span class="token operator">/</span>Xor<span class="token operator">/</span>Not  <span class="token operator">=</span>  bitwise_and<span class="token operator">/</span>_or<span class="token operator">/</span>_xor<span class="token operator">/</span>_not

ä¸<span class="token operator">/</span>æˆ–<span class="token operator">/</span>å¼‚æˆ–<span class="token operator">/</span>é                ä¸<span class="token operator">/</span>æˆ–<span class="token operator">/</span>å¼‚æˆ–<span class="token operator">/</span>é<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>ä½è¿ç®—ç§»ä½æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> number <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_left <span class="token operator">=</span> number<span class="token punctuation">.</span><span class="token function">leftShift</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> number_right <span class="token operator">=</span> number<span class="token punctuation">.</span><span class="token function">rightShift</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span> <span class="token string">'00000011 to 00001100'</span><span class="token punctuation">,</span> number_left <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> <span class="token string">'00000011 to 00000001'</span><span class="token punctuation">,</span> number_right <span class="token punctuation">)</span><span class="token punctuation">;</span>

ç§»ä½ä½è¿ç®—çš„åŠŸèƒ½æ˜¯å°†æ•°å­—å˜æˆäºŒè¿›åˆ¶åï¼Œå°†äºŒè¿›åˆ¶ä¸­æ‰€æœ‰çš„æ•°å­—å‘å·¦æˆ–è€…å‘å³ç§»åŠ¨ä¸€å®šçš„è·ç¦»ï¼Œäº§ç”Ÿçš„ç©ºæ¡£ç”¨ <span class="token number">0</span> è¡¥å……ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3ã€å­—å…¸Dictionary"><a href="#3ã€å­—å…¸Dictionary" class="headerlink" title="3ã€å­—å…¸Dictionary"></a>3ã€å­—å…¸Dictionary</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Dictionary_Profile <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span>
<span class="token literal-property property">Name</span><span class="token operator">:</span> <span class="token string">'Jinzhu Wang'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Gender</span><span class="token operator">:</span> <span class="token string">'Male'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Age</span><span class="token operator">:</span> <span class="token string">'20'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Location</span><span class="token operator">:</span> <span class="token string">'Chongqing'</span>
<span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å­—å…¸åˆå¹¶combine</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Dict_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">Weight</span><span class="token operator">:</span><span class="token string">'50kg'</span><span class="token punctuation">,</span> <span class="token literal-property property">Hight</span><span class="token operator">:</span><span class="token string">'160cm'</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Dict_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">Weight</span><span class="token operator">:</span><span class="token string">'70g'</span><span class="token punctuation">,</span> <span class="token literal-property property">Age</span><span class="token operator">:</span> <span class="token number">26</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Dict_Combine <span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span> Dict_2<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

ä¸¤ä¸ªä¾‹å­åœ¨åˆå¹¶æ—¶é‡åˆ°äº†Key ç›¸åŒçš„æƒ…å†µï¼Œæ­¤æ—¶å¦‚æœåœ¨<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>å‘½ä»¤ä¸­æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¸º<span class="token boolean">true</span>ï¼Œé‚£ä¹ˆè¿™æ—¶åœ¨åˆå¹¶çš„å­—å…¸ä¸­å°±ä¼šå°†é‡å¤çš„å†…å®¹ä¿ç•™ä¸ºç¬¬äºŒä¸ªå˜é‡çš„å€¼ã€‚
ç›¸åçš„ï¼Œå¦‚æœå°†ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¸º<span class="token boolean">false</span>ï¼Œé‚£ä¹ˆåˆå¹¶å­—å…¸ä¸­çš„é‡å¤å†…å®¹å°±æ˜¯ç¬¬ä¸€ä¸ªå­—å…¸çš„å€¼ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ›´æ”¹å†…å®¹å‘½ä»¤set</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Dict_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span>
<span class="token literal-property property">Name</span><span class="token operator">:</span> <span class="token string">'Jinzhu Wang'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Gender</span><span class="token operator">:</span> <span class="token string">'Male'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Age</span><span class="token operator">:</span> <span class="token string">'> 20'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Location</span><span class="token operator">:</span> <span class="token string">'Chongqing'</span>
<span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Dict_Change <span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;30'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ›´æ”¹å†…å®¹çš„Keyï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å°†è¦æ–°å†™
å…¥çš„å†…å®¹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>é™ˆåˆ—å‘½ä»¤key</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Dict_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span>
<span class="token literal-property property">Name</span><span class="token operator">:</span> <span class="token string">'Jinzhu Wang'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Gender</span><span class="token operator">:</span> <span class="token string">'Male'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Age</span><span class="token operator">:</span> <span class="token string">'> 20'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Location</span><span class="token operator">:</span> <span class="token string">'Chongqing'</span>
<span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> List_Keys<span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

consoleï¼š
<span class="token number">0</span>ï¼šAge
<span class="token number">1</span><span class="token operator">:</span>Gender
<span class="token number">2</span><span class="token operator">:</span>Location
<span class="token number">3</span><span class="token operator">:</span>Name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>è¯»å–å‘½ä»¤get</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Dict_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Dictionary</span><span class="token punctuation">(</span> <span class="token punctuation">&#123;</span>
<span class="token literal-property property">Name</span><span class="token operator">:</span> <span class="token string">'Jinzhu Wang'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Gender</span><span class="token operator">:</span> <span class="token string">'Male'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Age</span><span class="token operator">:</span> <span class="token string">'> 20'</span><span class="token punctuation">,</span>
<span class="token literal-property property">Location</span><span class="token operator">:</span> <span class="token string">'Chongqing'</span>
<span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> The_Name <span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Name'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>The_Name<span class="token punctuation">)</span><span class="token punctuation">;</span>

consoleï¼š
jinzhu wang<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å…³é”®è¯æ˜¯å¦å­˜åœ¨å‘½ä»¤contains</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> The_Contain <span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'Hight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>å­—å…¸å°ºå¯¸æŸ¥è¯¢å‘½ä»¤size</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> The_Size <span class="token operator">=</span> Dict_1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="4ã€åˆ—è¡¨List"><a href="#4ã€åˆ—è¡¨List" class="headerlink" title="4ã€åˆ—è¡¨List"></a>4ã€åˆ—è¡¨List</h3><p>åˆ›å»ºå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_Example <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span><span class="token string">'Good'</span><span class="token punctuation">,</span><span class="token string">'Bye'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

List å†…éƒ¨é€šè¿‡é€—å·â€œ<span class="token punctuation">,</span><span class="token function">â€æ¥åˆ†å‰²ç©ºé—´ï¼ŒåŒæ—¶å…¶ä¸­çš„æ¯ä¸€ä¸ªç©ºé—´éƒ½å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»æ„æ•°æ®æ ¼å¼</span><span class="token punctuation">(</span>åŒ…æ‹¬é¥æ„Ÿå›¾åƒå’ŒçŸ¢é‡æ–‡ä»¶<span class="token punctuation">)</span>çš„æ•°æ®



é‡å¤åˆ›å»º

<span class="token keyword">var</span> List_Repeat <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span> <span class="token string">'Yeah!'</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

å‚æ•°<span class="token number">5</span>ä¸ºåˆ›å»ºçš„éæ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ç­‰å·®åˆ›å»ºå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> list_sequence <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

åˆ›å»ºç­‰å·®æ•°åˆ—ï¼Œä»<span class="token number">10</span>è‡³<span class="token number">100</span>ï¼Œæ­¥é•¿ä¸º<span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>æ›¿æ¢å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1992</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'No.1'</span><span class="token punctuation">,</span> <span class="token number">1993</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'No.2'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_3 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

replaceåªæŠŠç¬¬ä¸€ä¸ª<span class="token number">01</span>æ”¹æˆ<span class="token number">05</span>
replaceAllæŠŠå…¨éƒ¨<span class="token number">01</span>éƒ½æ”¹æˆ<span class="token number">05</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ·»åŠ ä¸æ’å…¥</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1992</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'No.1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'Male'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_3 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Chongqing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ‰“åŒ…å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1992</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'No.1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Year'</span><span class="token punctuation">,</span><span class="token string">'Month'</span><span class="token punctuation">,</span><span class="token string">'Day'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

consoleï¼š
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1992</span><span class="token punctuation">,</span><span class="token string">"year"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"month"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"day"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å€’ç½®å’Œè½¬ç½®</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_Reverse <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_Rotate <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>List_Reverse<span class="token punctuation">,</span>List_Rotate<span class="token punctuation">)</span>

consoleï¼š
<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ’åºå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">'Zhao'</span><span class="token punctuation">,</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span> <span class="token string">'Ma'</span><span class="token punctuation">,</span> <span class="token string">'Liu'</span><span class="token punctuation">,</span> <span class="token string">'Bai'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_Sort <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

æŒ‰å­—æ¯<span class="token operator">/</span>æ•°å­—é¡ºåºæ’åˆ—
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>ä½ç½®äº’æ¢å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>List_2<span class="token punctuation">)</span>

consoleï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>mapå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token string">'Zhao'</span><span class="token punctuation">,</span><span class="token string">'Qian'</span><span class="token punctuation">,</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Li'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Do</span> <span class="token punctuation">(</span><span class="token parameter">Name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> Do <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span>List_2<span class="token punctuation">)</span>

consoleï¼š
 <span class="token punctuation">[</span><span class="token string">'Zhao'</span><span class="token punctuation">,</span><span class="token string">'Zhao'</span><span class="token string">'Zhao'</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token string">'Qian'</span><span class="token punctuation">,</span><span class="token string">'Qian'</span><span class="token punctuation">,</span><span class="token string">'Qian'</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Sun'</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token string">'Li'</span><span class="token punctuation">,</span><span class="token string">'Li'</span><span class="token punctuation">,</span><span class="token string">'Li'</span><span class="token punctuation">]</span>

<span class="token punctuation">.</span>map å‘½ä»¤çš„ä½œç”¨æ˜¯å¯¹List <span class="token function">ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡</span><span class="token punctuation">(</span>Object<span class="token punctuation">)</span>éƒ½æ‰§è¡Œäº†æŸç§ç›¸åŒçš„æ“ä½œï¼Œè¿™ç§ç›¸åŒçš„æ“ä½œç”±<span class="token keyword">function</span> å‘½ä»¤è¿›è¡Œç¼–å†™ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å¾ªç¯å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> List_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Do</span> <span class="token punctuation">(</span> <span class="token parameter">Number_1<span class="token punctuation">,</span> Number_2</span> <span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span> <span class="token keyword">return</span> ee<span class="token punctuation">.</span><span class="token function">Number</span><span class="token punctuation">(</span>Number_1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Number_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> List_2 <span class="token operator">=</span> List_1<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span> Do<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> List_1<span class="token punctuation">,</span> List_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å‘½ä»¤æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œå¾ªç¯è¦æ‰§è¡Œçš„å‚æ•°æ–¹ç¨‹ï¼Œç¬¬äºŒä¸ªæ˜¯å¾ªç¯çš„åˆå§‹é‡å°±è¡Œã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="5ã€çŸ©é˜µArray"><a href="#5ã€çŸ©é˜µArray" class="headerlink" title="5ã€çŸ©é˜µArray"></a>5ã€çŸ©é˜µArray</h3><p>çŸ©é˜µæ„å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3*1</span>
<span class="token keyword">var</span> Array_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1*3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p>å•ä½çŸ©é˜µæ„å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Array<span class="token punctuation">.</span><span class="token function">identity</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Array_1<span class="token punctuation">)</span>

<span class="token literal-property property">console</span><span class="token operator">:</span>
<span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>çŸ©é˜µé‡å¤å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
						<span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_2 <span class="token operator">=</span> Array_1<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token literal-property property">console</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦é‡å¤çš„æ–¹å‘ï¼Œ<span class="token number">0</span>ä¸ºåˆ—æ–¹å‘ã€<span class="token number">1</span>ä¸ºè¡Œæ–¹å‘ï¼›ç¬¬äºŒä¸ªå‚æ•°ä¸ºé‡å¤çš„éæ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>çŸ©é˜µå€’ç½®å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_2 <span class="token operator">=</span> Array_1<span class="token punctuation">.</span><span class="token function">transpose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_3 <span class="token operator">=</span> Array_2<span class="token punctuation">.</span><span class="token function">transpose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span> Array_1<span class="token punctuation">,</span> Array_2<span class="token punctuation">,</span>Array_3<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token literal-property property">console</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ•°æ®è½¬æ¢å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">3.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4.4</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token punctuation">,</span> <span class="token number">6.6</span><span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_2 <span class="token operator">=</span> Array_1<span class="token punctuation">.</span><span class="token function">uint8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span>Array_1<span class="token punctuation">,</span>Array_2<span class="token punctuation">)</span>

consoleï¼š
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1.1</span><span class="token punctuation">,</span><span class="token number">2.2</span><span class="token punctuation">,</span><span class="token number">3.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4.4</span><span class="token punctuation">,</span><span class="token number">5.5</span><span class="token punctuation">,</span><span class="token number">6.6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>çŸ©é˜µçš„äº¤ã€å¹¶å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3.14</span><span class="token punctuation">,</span><span class="token number">1.41</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_and <span class="token operator">=</span> Array_1<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span> Array_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Array_or <span class="token operator">=</span> Array_1<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span> Array_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> Array_1<span class="token punctuation">,</span> Array_2<span class="token punctuation">,</span> Array_and<span class="token punctuation">,</span> Array_or <span class="token punctuation">)</span><span class="token punctuation">;</span>

andï¼šå¦‚æœä¸¤ä¸ªå€¼éƒ½éé›¶ï¼Œåˆ™è¿”å›<span class="token number">1</span>ã€‚
orï¼šå¦‚æœè¾“å…¥å€¼éé›¶ï¼Œåˆ™è¿”å›<span class="token number">1</span>ã€‚

<span class="token literal-property property">console</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3.14</span><span class="token punctuation">,</span><span class="token number">1.41</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="äºŒã€GEEæ•°æ®ç±»å‹"><a href="#äºŒã€GEEæ•°æ®ç±»å‹" class="headerlink" title="äºŒã€GEEæ•°æ®ç±»å‹"></a>äºŒã€GEEæ•°æ®ç±»å‹</h2><h3 id="1ã€Geometry"><a href="#1ã€Geometry" class="headerlink" title="1ã€Geometry"></a>1ã€Geometry</h3><p>ç‚¹ä¸å¤šç‚¹çš„åˆ›å»º</p>
<p>ç‚¹</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">116.3968</span><span class="token punctuation">,</span><span class="token number">39.9186</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>  <span class="token comment">//å°†åœ°å›¾è§†å›¾å±…ä¸­äºç»™å®šå¯¹è±¡ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä½ç½®å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç¼©æ”¾æ¯”ä¾‹èŒƒå›´ä»0-24</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤šç‚¹</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">MultiPoint</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.3921</span><span class="token punctuation">,</span> <span class="token number">39.9224</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.4014</span><span class="token punctuation">,</span> <span class="token number">39.9227</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.4017</span><span class="token punctuation">,</span> <span class="token number">39.9138</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.3929</span><span class="token punctuation">,</span> <span class="token number">39.9135</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ä½†æ˜¯åˆ©ç”¨ä»£ç åˆ›å»ºç‚¹çš„æ•ˆç‡å¾ˆä½ï¼Œä¸€èˆ¬ç›´æ¥åœ¨åœ°å›¾ä¸Šåˆ©ç”¨å·¥å…·ç›´æ¥è¿›è¡Œé€‰å–ï¼Œå†å°†geometryé‡å‘½åå³å¯</p>
<p>çº¿æ®µä¸å¤šçº¿çš„åˆ›å»º</p>
<p>çº¿æ®µ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">LineString</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39234040929296</span><span class="token punctuation">,</span> <span class="token number">39.91321497621612</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39195417119481</span><span class="token punctuation">,</span> <span class="token number">39.92276018488313</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40186761571385</span><span class="token punctuation">,</span> <span class="token number">39.9230234821268</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40216802312352</span><span class="token punctuation">,</span> <span class="token number">39.91354414349019</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤šçº¿</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">MultiLineString</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39367078496434</span><span class="token punctuation">,</span> <span class="token number">39.92134494485143</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39899228764989</span><span class="token punctuation">,</span> <span class="token number">39.92173989850053</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39401410771825</span><span class="token punctuation">,</span> <span class="token number">39.91953471147776</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39693235112645</span><span class="token punctuation">,</span> <span class="token number">39.92085124958646</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39628862096288</span><span class="token punctuation">,</span> <span class="token number">39.91920557299557</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39873479558446</span><span class="token punctuation">,</span> <span class="token number">39.91752694212849</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å•ç¯çº¿ä¸å¤šç¯çº¿çš„åˆ›å»º</p>
<p>å•ç¯çº¿</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">LinearRing</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39242623998143</span><span class="token punctuation">,</span> <span class="token number">39.91321497621612</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39195417119481</span><span class="token punctuation">,</span> <span class="token number">39.92269436041402</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40178178502538</span><span class="token punctuation">,</span> <span class="token number">39.9230234821268</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40212510777928</span><span class="token punctuation">,</span> <span class="token number">39.91357706013058</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39242623998143</span><span class="token punctuation">,</span> <span class="token number">39.91321497621612</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>

ç¯çº¿é¦–å°¾è¦è¿æ¥èµ·æ¥ï¼Œå¦‚æœæœ€åä¸€ä¸ªç‚¹ä¸ç­‰äºèµ·å§‹ç‚¹ï¼Œåˆ™åœ¨ç¬¬äº”ä¸ªç‚¹å»ºç«‹ä¸€ä¸ªèµ·å§‹ç‚¹çš„å‰¯æœ¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤šç¯çº¿</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">MultiLineString</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39320681392098</span><span class="token punctuation">,</span> <span class="token number">39.921786784372976</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39337847529794</span><span class="token punctuation">,</span> <span class="token number">39.92040443758097</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39578173457528</span><span class="token punctuation">,</span> <span class="token number">39.92070065709998</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39556715785409</span><span class="token punctuation">,</span> <span class="token number">39.92188552236169</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39320681392098</span><span class="token punctuation">,</span> <span class="token number">39.921786784372976</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39801333247567</span><span class="token punctuation">,</span> <span class="token number">39.91918663276216</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39548132716561</span><span class="token punctuation">,</span> <span class="token number">39.91777131887048</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.4006311684742</span><span class="token punctuation">,</span> <span class="token number">39.91747508667966</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39801333247567</span><span class="token punctuation">,</span> <span class="token number">39.91918663276216</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>

å››è¾¹å•ç¯çº¿å…±æœ‰äº”ç‚¹å®šä½ç‚¹ï¼Œä¸‰è¾¹å•ç¯çº¿å…±æœ‰å››ä¸ªå®šä½ç‚¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>é¢ä¸æ­£æ–¹å½¢çš„åˆ›å»º</p>
<p>é¢</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39179060756112</span><span class="token punctuation">,</span> <span class="token number">39.922576684295926</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39230559169198</span><span class="token punctuation">,</span> <span class="token number">39.913064366936894</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40213320552255</span><span class="token punctuation">,</span> <span class="token number">39.91352520169099</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40161822139169</span><span class="token punctuation">,</span> <span class="token number">39.92297163084022</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39483759700204</span><span class="token punctuation">,</span> <span class="token number">39.91961451259886</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39496634303475</span><span class="token punctuation">,</span> <span class="token number">39.91648763678902</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39900038539315</span><span class="token punctuation">,</span> <span class="token number">39.916553467224674</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39874289332772</span><span class="token punctuation">,</span> <span class="token number">39.91977908105491</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ­£æ–¹å½¢</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span>
<span class="token number">116.3926</span><span class="token punctuation">,</span> <span class="token number">39.9133</span><span class="token punctuation">,</span> <span class="token number">116.4014</span><span class="token punctuation">,</span> <span class="token number">39.9227</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>åæ ‡ç³»è½¬æ¢ä¸æ˜¾ç¤ºæ•ˆæœ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Geo <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">65.9</span><span class="token punctuation">,</span> <span class="token number">19.8</span><span class="token punctuation">,</span><span class="token number">134.5</span><span class="token punctuation">,</span> <span class="token number">50.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Planr <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Geometry</span><span class="token punctuation">(</span>China_Geo<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>ï¼› <span class="token comment">//ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯â€œçŸ¢é‡æ–‡ä»¶â€ï¼Œâ€œåæ ‡ç³»â€å’Œâ€œæ˜¾ç¤ºæ–¹å¼â€â€ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯trueï¼Œä»£è¡¨ç”¨åœ°ç†åæ ‡ç³»æ¥æ˜¾ç¤ºæ–‡ä»¶ã€‚æœ¬ä¾‹ä¸­æ­¤å¤„æ”¹ä¸ºäº†falseï¼Œè¿™æ„å‘³ç€å°†ç”¨æŠ•å½±åæ ‡ç³»æ¥æ˜¾ç¤ºæ–‡ä»¶ã€‚</span>
<span class="token keyword">var</span> China_EPSG <span class="token operator">=</span> China_Geo<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">'EPSG:3857'</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span><span class="token function">ErrorMargin</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Geo<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'FF0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'geodesic polygon'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Planr<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'000000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'planar polygon'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_EPSG<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'0000CD'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'EPSG polygon '</span><span class="token punctuation">)</span>



<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">'EPSG:3857'</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span><span class="token function">ErrorMargin</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯å°†åŸæ¥Geometry çš„åæ ‡ç³»è½¬æ¢æˆæŒ‡å®šåæ ‡ç³»ï¼Œ
è¯¥å‘½ä»¤ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è½¬æ¢çš„ç›®æ ‡åæ ‡ç³»<span class="token punctuation">,</span><span class="token literal-property property">ç¬¬äºŒä¸ªå‚æ•°æ˜¯è½¬æ¢åçš„å…è®¸è¯¯å·®</span><span class="token operator">:</span>è¾¹è·çš„å•ä½<span class="token operator">:</span>â€œç±³â€ã€â€œæŠ•å½±â€æˆ–â€œæ— é™â€<span class="token punctuation">.</span>

ee<span class="token punctuation">.</span><span class="token function">Geometry</span><span class="token punctuation">(</span>China_Geo<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºâ€œçŸ¢é‡æ–‡ä»¶â€ï¼Œâ€œåæ ‡ç³»â€å’Œâ€œæ˜¾ç¤ºæ–¹å¼â€ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<span class="token boolean">true</span>ï¼Œä»£è¡¨ç”¨åœ°ç†åæ ‡ç³»æ¥æ˜¾ç¤ºæ–‡ä»¶ã€‚æœ¬ä¾‹ä¸­æ­¤å¤„æ”¹ä¸ºäº†<span class="token boolean">false</span>ï¼Œè¿™æ„å‘³ç€å°†ç”¨æŠ•å½±åæ ‡ç³»æ¥æ˜¾ç¤ºæ–‡ä»¶<span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ±‚Geometryä¸­å¿ƒç‚¹</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Geo <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">65.9</span><span class="token punctuation">,</span> <span class="token number">19.8</span><span class="token punctuation">,</span><span class="token number">134.5</span><span class="token punctuation">,</span> <span class="token number">50.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Certer <span class="token operator">=</span> China_Geo<span class="token punctuation">.</span><span class="token function">centroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Geo<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'FF0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'geodesic polygon'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Certer<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Geometry çš„å››è‡³å’Œå‡¸åŒ…</p>
<p>å‡¸åŒ…æ„ä¸ºåŒ…å«ä¸€ç»„ç‚¹é›†çš„æœ€å°é¢ç§¯çš„å‡¸å¤šè¾¹å½¢</p>
<p>Geometry ç¼“å†²åŒº</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">TGR</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/TGR"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TGR_Buffer <span class="token operator">=</span> <span class="token constant">TGR</span><span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span><span class="token constant">TGR</span> <span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">TGR</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>TGR_Buffer<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ±‚å–Geometryå¹¶é›†</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Polygon_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">152.71032334056088</span><span class="token punctuation">,</span> <span class="token number">18.862610207551867</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">170.72717665943918</span><span class="token punctuation">,</span> <span class="token number">19.69222816299581</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">171.07873915943918</span><span class="token punctuation">,</span> <span class="token number">40.62061002589569</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">153.41344834056088</span><span class="token punctuation">,</span> <span class="token number">40.08478212000696</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>ï¼›

<span class="token keyword">var</span> Polygon_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">176.52795790943912</span><span class="token punctuation">,</span> <span class="token number">45.620172046005735</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">176.70373915943912</span><span class="token punctuation">,</span> <span class="token number">32.2945468815855</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">142.60217665943918</span><span class="token punctuation">,</span> <span class="token number">32.2945468815855</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">141.02014540943918</span><span class="token punctuation">,</span> <span class="token number">45.49709377875777</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Polygon_union <span class="token operator">=</span> Polygon_1<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>Polygon_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Polygon_union<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Polygon_1<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Polygon_2<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Polygon_union<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>







<h3 id="2ã€Feature"><a href="#2ã€Feature" class="headerlink" title="2ã€Feature"></a>2ã€Feature</h3><p>Featureæ˜¯å¸¦æœ‰å±æ€§çš„Geometryï¼Œé™¤äº†å¯ä»¥ç”¨ä¸ŠGeometryçš„ç©ºé—´æ“ä½œå¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®å…¶å±æ€§è¿›è¡Œç›¸å…³æ“ä½œã€‚</p>
<p>Featureçš„åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">116.392391422</span><span class="token punctuation">,</span> <span class="token number">39.9131466590</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">116.402090290</span><span class="token punctuation">,</span> <span class="token number">39.913541660</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.401704052</span><span class="token punctuation">,</span> <span class="token number">39.9229880868</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">116.391833522</span><span class="token punctuation">,</span> <span class="token number">39.922593140</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Feature_Forbindden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>
	Forbidden_City<span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"æ•…å®«"</span><span class="token literal-property property">ï¼Œlocation</span><span class="token operator">:</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Feature_Fobidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Feature_Fobidden_City<span class="token punctuation">)</span>


ee<span class="token punctuation">,</span><span class="token function">Feature</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯Featureçš„Geometryæ•°æ®ï¼Œç¬¬äºŒä¸ªæ˜¯Featureçš„å±æ€§ä¿¡æ¯ï¼Œå±æ€§ä¿¡æ¯ä½¿ç”¨Dictionaryçš„ç»“æ„å†™å…¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Featureçš„é€‰æ‹©åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39239142238046</span><span class="token punctuation">,</span> <span class="token number">39.913146659084674</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40209029017831</span><span class="token punctuation">,</span> <span class="token number">39.91354166001771</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40170405208016</span><span class="token punctuation">,</span> <span class="token number">39.922988086896794</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39183352290536</span><span class="token punctuation">,</span> <span class="token number">39.922593140447425</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Feature_Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>
Forbidden_City<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"æ•…å®«"</span><span class="token punctuation">,</span><span class="token literal-property property">location</span><span class="token operator">:</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Feature_select_1 <span class="token operator">=</span> Feature_Forbidden_City<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Feature_select_2 <span class="token operator">=</span> Feature_Forbidden_City<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"åç§°"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span>Feature_select_1<span class="token punctuation">,</span>Feature_select_2<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Feature_Forbidden_City<span class="token punctuation">)</span>


Feature<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤çš„åŠŸèƒ½æ˜¯åˆ›å»ºä¸€ä¸ªåŸFeatureçš„â€œæ‹·è´â€ï¼Œå½“æ‹¬å·å†…åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ<span class="token constant">GEE</span> æ‹·è´åŸFeature çš„Geometaryï¼Œå¹¶å°†å‚æ•°å¯¹åº”çš„å±æ€§åŠ å…¥åˆ°è¿™ä¸ªGeometry ä¸­å½¢æˆæ–°çš„Featureã€‚å½“æ‹¬å·å†…æœ‰ä¸¤ä¸ªå‚æ•°æ—¶ï¼Œ<span class="token constant">GEE</span> åœ¨å°†å‚æ•°åŠ å…¥Geometry çš„åŸºç¡€ä¸Šï¼Œåˆ©ç”¨ç¬¬äºŒä¸ªå‚æ•°å¯¹å±æ€§çš„Key è¿›è¡Œé‡å‘½åã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Featureå±æ€§æ”¹å†™</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span> <span class="token number">116.3926</span><span class="token punctuation">,</span> <span class="token number">39.9133</span><span class="token punctuation">,</span> <span class="token number">116.4014</span><span class="token punctuation">,</span> <span class="token number">39.9227</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Feature_Forbidden_City <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"æ•…å®«"</span><span class="token punctuation">,</span><span class="token literal-property property">location</span><span class="token operator">:</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Feature_Set <span class="token operator">=</span> Feature_Forbidden_City<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"Gugong"</span><span class="token punctuation">,</span><span class="token string">"location"</span><span class="token punctuation">,</span><span class="token string">"Beijing"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Feature_Set_Multi <span class="token operator">=</span> Feature_Forbidden_City<span class="token punctuation">.</span><span class="token function">setMulti</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"ç´«ç¦åŸ"</span><span class="token punctuation">,</span><span class="token string-property property">"location"</span><span class="token operator">:</span><span class="token string">"é¦–éƒ½"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>Feature_Fobidden_City<span class="token punctuation">,</span>Feature_Set<span class="token punctuation">,</span>Feature_Set_Multi<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Forbidden_City<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Feature_Fobidden_City<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Featureç©ºé—´æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Chongqing <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>China<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> CQ_Simple <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">simplify</span><span class="token punctuation">(</span><span class="token number">50000</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> CQ_Centroid <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">centroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> CQ_Hull <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">convexHull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> CQ_Bounds <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">bounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> CQ_Buffer <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">50000</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Chongqing<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Chongqing<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Simple<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Centroid<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Hull<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Bounds<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Buffer<span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token function">filterBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å’Œ<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œå®ƒä»¬çš„åŠŸèƒ½æ˜¯åˆ©ç”¨åœ°ç†ä½ç½®è¿›è¡Œç­›é€‰å’Œå–ç¬¬ä¸€
ä¸ªæ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Featureçš„é¢ç§¯å’Œå‘¨é•¿</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">TGR</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/TGR"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TGR_Area <span class="token operator">=</span> <span class="token constant">TGR</span><span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//é¢ç§¯</span>
<span class="token keyword">var</span> TGR_Perimeter <span class="token operator">=</span> <span class="token constant">TGR</span><span class="token punctuation">.</span><span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å‘¨é•¿</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>Feature çš„ç©ºé—´ä¿¡æ¯å’Œå±æ€§ä¿¡æ¯çš„æå–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">TGR</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/TGR"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TGR_geometry <span class="token operator">=</span> <span class="token constant">TGR</span><span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TGR_get <span class="token operator">=</span> <span class="token constant">TGR</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'BOUNT_ID'</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">TGR</span><span class="token punctuation">,</span>TGR_geometry<span class="token punctuation">,</span>TGR_get<span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŠŸèƒ½ç›¸å½“äºæå–Feature <span class="token function">çš„ç©ºé—´ä¿¡æ¯ï¼Œè€Œget</span><span class="token punctuation">(</span><span class="token string">'BOUNT_ID'</span><span class="token punctuation">)</span>çš„åŠŸèƒ½
æ˜¯è·å–Feature å±æ€§ä¸­ç›¸åº”Key çš„å†…å®¹ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ€»ç»“ä¸Šè¿°å¸¸è§çš„Featureå‘½ä»¤</p>
<table>
<thead>
<tr>
<th>ee.Feature()</th>
<th>Feature.select()</th>
<th>Feature.transform()</th>
<th>Feature.set&#x2F;setMulti()</th>
</tr>
</thead>
<tbody><tr>
<td>Feature.geometry()</td>
<td>Feature.get()</td>
<td>Feature.Length&#x2F;Area&#x2F;Perimeter()</td>
<td></td>
</tr>
<tr>
<td>Feature.centroid&#x2F;simplify&#x2F;bounds&#x2F;convexHull&#x2F;buffer()</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Feature.union&#x2F;intersection&#x2F;difference&#x2F;symmetricDifference()</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="3ã€FeatureCollection"><a href="#3ã€FeatureCollection" class="headerlink" title="3ã€FeatureCollection"></a>3ã€FeatureCollection</h3><p>FeatureCollectionå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªFeatureæ–‡ä»¶çš„é›†åˆã€‚Feature Collection ç›¸å¯¹Feature ä¹Ÿå¤šå‡ºäº†ä¸€å®šçš„â€œæ•°æ®é›†â€ä¿¡æ¯ã€‚  å¯ä»¥ç†è§£ä¸º<strong>çŸ¢é‡ç‰¹å¾é›†åˆç±»</strong></p>
<p>æ¯”å¦‚ï¼Œä¸­å›½å„çœçº§è¡Œæ”¿è¾¹ç•Œéƒ½å¯ä»¥çœ‹åšæ˜¯çš„Featureï¼Œéƒ½åŒ…å«æœ‰å„è‡ªçš„â€œNameâ€ã€â€œAreaâ€ç­‰ä¿¡æ¯ï¼Œè€Œå½“å°†è¿™äº›Feature é›†åˆåˆ°ä¸€èµ·æ—¶ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªâ€œä¸­å›½çœè¾¹ç•Œâ€çš„Feature Collectionï¼Œè¿™ä¸ªCollection ä¸­å¯ä»¥åŒ…å«â€œæ•°æ®æ¥æºâ€ã€â€œé‡‡é›†æ—¶é—´â€ç­‰å±äºæ•°æ®é›†åˆçš„ä¿¡æ¯ã€‚</p>
<p>ç”¨æˆ·è‡ªè¡Œä¸Šä¼ shpæ–‡ä»¶æ—¶éœ€è¦æ‰“åŒ…ä¸ºzipæ–‡ä»¶ä¸”åŒ…å«shp&#x2F;dbf&#x2F;shxç±»å‹</p>
<p>FeatureCollectionçš„åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Poly <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39248531478768</span><span class="token punctuation">,</span> <span class="token number">39.91319513792091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40222709792977</span><span class="token punctuation">,</span> <span class="token number">39.91378763804685</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40184085983162</span><span class="token punctuation">,</span> <span class="token number">39.92303655876662</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39171283859139</span><span class="token punctuation">,</span> <span class="token number">39.922674524864675</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Points <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">MultiPoint</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.38823669570809</span><span class="token punctuation">,</span> <span class="token number">39.92079850034943</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.38677757400399</span><span class="token punctuation">,</span> <span class="token number">39.91885659627606</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.38669174331551</span><span class="token punctuation">,</span> <span class="token number">39.916881722097074</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.38767879623299</span><span class="token punctuation">,</span> <span class="token number">39.91421555161684</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Lines <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">LineString</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.37733619827156</span><span class="token punctuation">,</span> <span class="token number">39.9167171466781</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.38192814010506</span><span class="token punctuation">,</span> <span class="token number">39.91754001981801</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.37712162155037</span><span class="token punctuation">,</span> <span class="token number">39.91365597179514</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.38424556869393</span><span class="token punctuation">,</span> <span class="token number">39.914478881715695</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Feature_Collection <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Poly<span class="token punctuation">,</span>Points<span class="token punctuation">,</span>Line<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Feature_Collection<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Feature_Collection<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Feature_Collection<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>FeatureCollectionçš„éšæœºç‚¹ç”Ÿæˆ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Poly <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">116.39248531478768</span><span class="token punctuation">,</span> <span class="token number">39.91319513792091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40222709792977</span><span class="token punctuation">,</span> <span class="token number">39.91378763804685</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.40184085983162</span><span class="token punctuation">,</span> <span class="token number">39.92303655876662</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">116.39171283859139</span><span class="token punctuation">,</span> <span class="token number">39.922674524864675</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Random_Points <span class="token operator">=</span> ee<span class="token punctuation">.</span>FeatureCollection<span class="token punctuation">.</span><span class="token function">randomPoints</span><span class="token punctuation">(</span>Poly<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Poly<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Poly<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Random_Points<span class="token punctuation">)</span>


ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨PloyèŒƒå›´å†…éšæœºç”Ÿæˆ<span class="token number">20</span>ä¸ªç‚¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>FeatureCollectionçš„å±æ€§ç­›é€‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Proction_Area <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"WCMC/WDPA/current/polygons"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Proction_Area_China <span class="token operator">=</span> Proction_Area<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">"ISO3"</span><span class="token punctuation">,</span><span class="token string">"quals"</span><span class="token punctuation">,</span><span class="token string">"CHN"</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Proction_Area_China<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Proction_Area <span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Proction_Area_China <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'FF0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


è¿™é‡Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ã€‚ç¬¬ä¸€æ˜¯åŠ è½½çš„æ•°æ®é›†æ˜¯â€œä¸–ç•Œè‡ªç„¶ä¿æŠ¤åŒºâ€ï¼Œå…¶ä¸­åŒ…å«æœ‰å¾ˆå¤šå±æ€§ä¿¡
æ¯ï¼Œâ€œ<span class="token constant">ISO3</span>â€æŒ‡çš„æ˜¯<span class="token number">3</span> å­—æ¯å›½å®¶ä»£ç ã€‚

ç¬¬äºŒæ˜¯<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯åˆ©ç”¨å±æ€§è¿›è¡Œç­›é€‰ï¼Œå…¶ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯â€œç­›é€‰å­—æ®µâ€ï¼Œâ€œå…³ç³»â€å’Œâ€œç­›é€‰å€¼â€ï¼Œå…¶ä¸­â€œå…³ç³»â€å­—æ®µåŒ…æ‹¬<span class="token string">"equals"</span><span class="token punctuation">,</span> <span class="token string">"less_than"</span><span class="token punctuation">,</span><span class="token string">"greater_than"</span><span class="token punctuation">,</span><span class="token string">"not_equals"</span><span class="token punctuation">,</span><span class="token string">"not_less_than"</span><span class="token punctuation">,</span><span class="token string">"not_greater_than"</span><span class="token punctuation">,</span><span class="token string">"starts_with"</span><span class="token punctuation">,</span><span class="token string">"ends_with"</span><span class="token punctuation">,</span><span class="token string">"not_starts_with"</span><span class="token punctuation">,</span><span class="token string">"not_ends_with"</span><span class="token punctuation">,</span> <span class="token string">"contains"</span><span class="token punctuation">,</span><span class="token string">"not_contains"</span>ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>FeatureCollectionçš„æ•°é‡é™åˆ¶å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

æ•°é‡é™åˆ¶å‘½ä»¤<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯â€œæœ€å¤§æ•°é‡â€ï¼Œâ€œé™åˆ¶å­—æ®µâ€å’Œâ€œæ˜¯å¦ä»å°åˆ°å¤§â€ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ—¶é—´ç­›é€‰å‘½ä»¤</p>
<p>ç”±äºå¸¦æœ‰æ—¶é—´å±æ€§çš„FeatureCollectionæ•°æ®å¾ˆå°‘ï¼Œè¿™é‡Œç”¨ImageCollectionæ›¿ä»£</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Landsat_FilterDate <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2019-03-01'</span><span class="token punctuation">,</span><span class="token string">'2019-03-16'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>ï¼›
<span class="token function">print</span><span class="token punctuation">(</span>Landsat_FilterDate<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>ç©ºé—´ç­›é€‰å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> CQ_Point <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">106.92371845031437</span><span class="token punctuation">,</span> <span class="token number">29.430312117372274</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">CQ</span> <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>CQ_Point<span class="token punctuation">)</span>ï¼›

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'FF0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_Point<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>é€‰æ‹©å¤åˆ¶å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Area <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Shape_Area'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>ï¼›
<span class="token function">print</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Area<span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Area<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å»é™¤é‡å¤å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Area <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'NAME'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Area<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Area<span class="token punctuation">)</span>

å»é™¤é‡å¤å‘½ä»¤<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„ä½œç”¨æ˜¯å»é™¤å…·æœ‰ç›¸åŒå±æ€§Feature<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>èåˆå’Œè”åˆå‘½ä»¤</p>
<p>è”åˆçš„æ•ˆæœæ˜¯å½¢æˆä¸€ä¸ªå•ç‹¬çš„Featureï¼Œå¹¶ä¸”æŠ¹å»æ‰€æœ‰å±æ€§ã€‚ èåˆæ˜¯å°†ä¸¤ä¸ªCollection åˆå¹¶ä¸ºä¸€ä¸ªã€‚</p>
<p>è”åˆ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Union <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Union<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Union<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>èåˆ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Chongqing <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Chong_Qing'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Si_Chuan <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Si_Chuan'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> CQ_SC_Merge <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>Si_Chuan<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Chongqing<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Si_Chuan<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'0000ff'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>CQ_SC_Merge<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å±æ€§æ”¹å†™</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Chongqing <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Chong_Qing'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Si_Chuan <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Si_Chuan'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> CQ_SC_Merge <span class="token operator">=</span> Chongqing<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>Si_Chuan<span class="token punctuation">)</span>
<span class="token keyword">var</span> CQ_SC_Merge_Set <span class="token operator">=</span> CQ_SC_Merge<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Chuan_Yu'</span><span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ“ä½œå¢åŠ äº†â€<span class="token constant">NAME</span>â€œå¯¹åº”çš„å±æ€§â€Chuan_Yuâ€œ


åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡<span class="token punctuation">.</span><span class="token function">setMulti</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ”¹å†™

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Remapå‘½ä»¤(æ‰¹é‡ä¿®æ”¹)</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Old_Provinces_ID <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span>
<span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">37</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">1089</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> New_Provinces_ID <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> China_Remap <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">remap</span><span class="token punctuation">(</span>Old_Provinces_ID<span class="token punctuation">,</span>New_Provinces_ID<span class="token punctuation">,</span><span class="token string">'OBJECTID'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> China_Provinces_Map <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'OBJECTID'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">var</span> China_Remap_Map <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'OBJECTID'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces_Map<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'16ff07,2901ff'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'China_Provinces_Map'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Remap_Map<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'ff7248,fbff21,09ffe8'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'China_Remap_Map'</span><span class="token punctuation">)</span>


<span class="token punctuation">.</span><span class="token function">remap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤ç†è§£ä¸ºå¯¹Featureè¿›è¡Œâ€œæ‰¹é‡ä¿®æ”¹â€ã€‚è¯¥å‘½ä»¤æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯â€œä¿®æ”¹å‰çš„å€¼â€ï¼Œâ€œä¿®æ”¹åçš„å€¼â€å’Œâ€œè¦ä¿®æ”¹çš„Keyâ€ã€‚æœ¬ä¾‹çš„æ•ˆæœç›¸å½“äºå°†ä¸­å›½çš„çœè¾¹ç•Œé‡æ–°åˆ†ä¸ºäº†<span class="token number">7</span>ç±»<span class="token punctuation">.</span>

<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯â€œçŸ¢é‡è½¬æ …æ ¼â€

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ’åºå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Sort_Area <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">//ä»å¤§åˆ°å°</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Sort_Area<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff000000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

æ’åºå‘½ä»¤<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯â€œæ’åºå­—æ®µâ€ï¼Œå¦ä¸€ä¸ªæ˜¯â€œæ˜¯å¦ä»å°åˆ°å¤§â€ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection çš„æå–Geometry å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> China_Geometry <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>China_Geometry<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection çš„çŸ¢é‡è½¬æ …æ ¼å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> China_to_Image <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'OBJECTID'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_to_Image<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"ff9c07"</span><span class="token punctuation">,</span><span class="token string">"f0ff1b"</span><span class="token punctuation">,</span><span class="token string">"1aff0b"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

çŸ¢é‡è½¬æ …æ ¼<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯â€œä¾æ®å­—æ®µâ€ï¼Œç¬¬äºŒä¸ªæ˜¯â€œæ•°å€¼å¤„ç†â€ã€‚æœ¬ä¾‹ä¸­æˆ‘ä»¬åˆ©ç”¨ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„ç›®çš„æ˜¯ä¸å¯¹æ•°å€¼è¿›è¡Œä»»ä½•å¤„ç†ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection çš„å–é¦–ä¸ªæ•°æ®å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> China_Biggest_Province <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>China_Biggest_Province<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Biggest_Province<span class="token punctuation">)</span>

å–é¦–ä¸ª<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤çš„å¸¸è§ç›®çš„æ˜¯è§‚å¯ŸFeature Collection ä¸­æ•°æ®çš„å±æ€§æˆ–è€…ç»“æ„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection è½¬List å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> China_List <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>China_List<span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_No_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>China_List<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_No_3 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>China_List<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_No_7 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Feature</span><span class="token punctuation">(</span>China_List<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Area_No_1<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Area_No_3<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Area_No_7<span class="token punctuation">)</span>

å‰è¿°åŠä»‹ç»è¿‡List æ˜¯ä¸€ä¸ªâ€œæ•°æ®æ¡†â€ã€‚å½“Feature Collection è½¬ä¸ºList ä¹‹åï¼Œæˆ‘ä»¬å°±å¯é€šè¿‡<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤è·å–æŒ‡å®šä½ç½®çš„Featureã€‚
æœ¬ä¾‹å¯¹Feature Collection è¿›è¡Œæ’åºå¹¶è½¬List ä¹‹åï¼Œè·å–äº†ä¸­å›½é¢ç§¯å¤§å°æ’ç¬¬<span class="token number">1</span>ã€ç¬¬<span class="token number">3</span> å’Œç¬¬<span class="token number">7</span> çš„ä¸‰ä¸ªçœã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection å±æ€§ç»Ÿè®¡å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_of_No_1 <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">aggregate_first</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_of_Top_3 <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">aggregate_array</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_Status <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">aggregate_stats</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Area_Histogram <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">aggregate_histogram</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>Area_of_No_1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Area_of_Top_3<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Area_Status<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Area_Histogram<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Feature Collection çš„.map()å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">Add_Center</span> <span class="token punctuation">(</span><span class="token parameter">feature</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> feature<span class="token punctuation">.</span><span class="token function">centroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä¸­å¿ƒç‚¹</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> China_Center <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Add_Center<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>China_Center<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>China_Center<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


Feature Collection çš„<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤å¯ä»¥çœ‹åšæ˜¯ä¸€ç§â€œé›†åˆæ“ä½œâ€ï¼Œæœ¬ä¾‹çš„ç›®çš„æ˜¯å¯¹æ‰€æœ‰çš„Feature æ·»åŠ ä¸­å¿ƒåæ ‡ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤ç¼–å†™ä¸€ä¸ªè®¡ç®—ä¸­å¿ƒç‚¹çš„æ“ä½œï¼Œç„¶ååˆ©ç”¨<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤å°†è¿™ä¸ªæ“ä½œåº”ç”¨äºæ•´ä½“Feature Collection ä¸­ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¸¸ç”¨FeatureCollection å‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">randomPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">remap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">reduceToImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">aggregate_first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">aggregate_array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>aggregate_stats<span class="token operator">/</span>_histogram<span class="token operator">/</span>_count<span class="token operator">/</span><span class="token function">_count_distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>aggregate_max<span class="token operator">/</span>_min<span class="token operator">/</span>_sum<span class="token operator">/</span>_mean<span class="token operator">/</span><span class="token function">_product</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>aggregate_sample_var<span class="token operator">/</span>_total_var<span class="token operator">/</span>_sample_sd<span class="token operator">/</span>_total_sd<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3ã€Image"><a href="#3ã€Image" class="headerlink" title="3ã€Image"></a>3ã€Image</h3><p>GEE ä¸­å¸¸è§çš„æ …æ ¼å›¾åƒæ•°æ®ã€‚ç¬¬ä¸€ç§æ˜¯é¥æ„Ÿå›¾åƒï¼ŒåŒ…æ‹¬Landsatï¼ŒSentinel å’ŒMODIS ç³»åˆ—å«æ˜Ÿçš„æ‰€æœ‰å›¾åƒæ•°æ®ã€‚ç¬¬äºŒç§æ˜¯åœ°å½¢å½±åƒï¼Œä¸»è¦æ˜¯90m å’Œ30m ç²¾åº¦çš„SRTMå½±åƒï¼Œä»¥åŠå±€éƒ¨åœ°åŒºçš„é«˜ç²¾åº¦åœ°å½¢å½±åƒã€‚ç¬¬ä¸‰ç§åˆ™æ˜¯å…¶ä»–å½±åƒï¼ŒåŒ…æ‹¬åœŸåœ°åˆ©ç”¨å›¾åƒã€æ°”è±¡å›¾åƒç­‰ã€‚</p>
<p>æ …æ ¼æ•°æ®çš„åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Image_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Image_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token function">constant</span><span class="token punctuation">(</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Image_3 <span class="token operator">=</span> Image_1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Image_2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Image_1<span class="token punctuation">,</span>Image_2<span class="token punctuation">,</span>Image_3<span class="token punctuation">)</span><span class="token punctuation">;</span>

æ­¤æ—¶åˆ›å»ºçš„æ …æ ¼æ•°æ®æ²¡æœ‰â€œåˆ†è¾¨ç‡â€çš„æ¦‚å¿µï¼Œæˆ–è€…è¯´æ­¤æ—¶æ …æ ¼çš„åˆ†è¾¨ç‡æ— é™å°ï¼Œä»»æ„ä½ç½®éƒ½æ˜¯æŒ‡å®šçš„å¸¸æ•°ã€‚

å¸¸æ•°æ …æ ¼çš„åˆ›å»ºå¸¸å¸¸è§äºé¥æ„Ÿå›¾åƒçš„æ—¶åºåˆ†æï¼Œè¢«å½“åšæ–¹ç¨‹ä¸­çš„å¸¸é‡ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ©è†œåˆ†æ(mask)</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Image_DEM <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token string">'CGIAR/SRTM90_V4'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Image_Cropland <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"ESA/GLOBCOVER_L4_200901_200912_V2_3"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'landcover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Image_Masked <span class="token operator">=</span> Image_DEM<span class="token punctuation">.</span><span class="token function">mask</span><span class="token punctuation">(</span> Image_Cropland <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span>Image_DEM<span class="token punctuation">,</span>Image_Cropland<span class="token punctuation">,</span>Image_Masked<span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.4</span><span class="token punctuation">,</span> <span class="token number">34.78</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Image_DEM<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token string-property property">"opacity"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"elevation"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"2dff07"</span><span class="token punctuation">,</span><span class="token string">"ff0b0b"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">' Image_DEM '</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Image_Cropland<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token string-property property">"opacity"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"landcover"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"ffffff"</span><span class="token punctuation">,</span><span class="token string">"fbff2d"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">' Image_Cropland '</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Image_Masked<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token string-property property">"opacity"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"elevation"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"2dff07"</span><span class="token punctuation">,</span><span class="token string">"ff0b0b"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'Image_Masked '</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼è£å‰ª</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">CQ</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">106.8</span><span class="token punctuation">,</span> <span class="token number">29.3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token constant">CQ_DEM</span> <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.8</span><span class="token punctuation">,</span> <span class="token number">29.3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">CQ_DEM</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

æ …æ ¼å›¾åƒçš„æ©è†œæ“ä½œåªæ˜¯ç»™<span class="token constant">GEE</span> æŒ‡å‡ºå›¾åƒçš„å“ªäº›éƒ¨åˆ†ä¸å‚åŠ è¿ç®—ã€‚
è€Œæ …æ ¼çš„è£å‰ª<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>åˆ™æ˜¯ç›´æ¥å°†è£å‰ªæ•°æ®æ„å¤–çš„éƒ¨åˆ†åˆ é™¤ã€‚ä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸¤è€…å¯ä»¥äº’ç”¨ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼é€‰æ‹©åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Glob_Cover <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"ESA/GLOBCOVER_L4_200901_200912_V2_3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Land_cover <span class="token operator">=</span> Glob_Cover<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'landcover'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Land_cover_quality <span class="token operator">=</span> Glob_Cover<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'qa'</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">107.56</span><span class="token punctuation">,</span> <span class="token number">34.79</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Land_cover<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Land_cover_quality<span class="token punctuation">)</span>

<span class="token constant">GLOBCOVER_L4_2009</span> æ•°æ®åŒ…å«ä¸¤ä¸ªæ³¢æ®µï¼Œä¸€ä¸ªæ³¢æ®µæ˜¯â€œlandcoverâ€ï¼Œç”¨æ¥è¯´æ˜åœŸåœ°åˆ©ç”¨ç±»å‹ã€‚
<span class="token function">å¦ä¸€ä¸ªæ³¢æ®µæ˜¯â€œqaâ€ï¼Œç”¨æ¥è¯´æ˜æŸä½ç½®çš„æ•°æ®æ¥æº</span><span class="token punctuation">(</span><span class="token number">0</span> è¡¨ç¤ºæ¥æºäº<span class="token constant">GLOBCOVER</span> é¡¹ç›®ï¼Œ<span class="token number">1</span> è¡¨ç¤ºæ¥æºäºå…¶ä»–æ•°æ®é›†<span class="token punctuation">)</span>ã€‚
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ³¢æ®µè£å–åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_One <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.4958</span><span class="token punctuation">,</span> <span class="token number">29.5856</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> L8_Slice <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span>L8_Slice<span class="token punctuation">)</span>

æ³¢æ®µè£å–å‘½ä»¤çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºè£å–çš„èµ·å§‹å’Œç»“æŸä½ç½®ï¼Œç”±äºä»£ç è¯­è¨€ä¸­æ˜¯ä»<span class="token number">0</span> å¼€å§‹è®¡æ•°çš„ï¼Œæ‰€ä»¥æœ¬ä¾‹ä¸­çš„<span class="token number">2</span> å’Œ<span class="token number">5</span> åˆ†åˆ«è¡¨ç¤ºç¬¬<span class="token number">3</span> å’Œç¬¬<span class="token number">6</span> ä¸ªä½ç½®ã€‚åŒæ—¶ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œæ³¢æ®µè£å–åªæ‰§è¡Œåˆ°ç»“æŸä½ç½®çš„å‰ä¸€ä¸ªä½ç½®ã€‚ ï¼ˆå·¦é—­å³å¼€ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„æ·»åŠ </p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_One <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.4958</span><span class="token punctuation">,</span> <span class="token number">29.5856</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">L8_B5</span> <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">L8_B4</span> <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">L8_B5_4</span> <span class="token operator">=</span> <span class="token constant">L8_B5</span><span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span><span class="token constant">L8_B4</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">L8_B5</span><span class="token punctuation">,</span><span class="token constant">L8_B4</span><span class="token punctuation">,</span><span class="token constant">L8_B5_4</span><span class="token punctuation">)</span>

æ·»åŠ æ³¢æ®µ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„é‡æŠ•å½±</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_One <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_Reproject <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">reproject</span><span class="token punctuation">(</span><span class="token string">"EPSG:3857"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token function">print</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"B1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">projection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>L8_Reproject<span class="token punctuation">.</span><span class="token function">projection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B5"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token number">10586</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">18154</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"L8_One_30m"</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_Reproject<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B5"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token number">10586</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">18154</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"L8_Reproject_30m"</span><span class="token punctuation">)</span>


è¿™é‡Œæ³¨æ„ï¼ŒçŸ¢é‡çš„é‡æŠ•å½±å‘½ä»¤æ˜¯<span class="token punctuation">.</span><span class="token function">transpose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œè€Œæ …æ ¼çš„é‡æŠ•å½±å‘½ä»¤å¼<span class="token punctuation">.</span><span class="token function">Reproject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ä¸¤è€…çš„æ“ä½œç›®çš„æ˜¯ç›¸åŒçš„ï¼Œä½†å´æ˜¯ä¸å¯æ··ç”¨çš„ä¸¤ä¸ªå‘½ä»¤ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„è‰²å½©è½¬æ¢</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_One <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.4958</span><span class="token punctuation">,</span> <span class="token number">29.5856</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">unitScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">32468</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">L8_HSV</span> <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">rgbToHsv</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">L8_RGB</span> <span class="token operator">=</span> <span class="token constant">L8_HSV</span><span class="token punctuation">.</span><span class="token function">hsvToRgb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span><span class="token constant">L8_HSV</span><span class="token punctuation">,</span><span class="token constant">L8_RGB</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.5</span><span class="token punctuation">,</span> <span class="token number">29.5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'Origin'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">L8_HSV</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'HSV'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">L8_RGB</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'RGB'</span><span class="token punctuation">)</span>


rgbToHsv
hsvToRgb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼æ•°å­—æ ¼å¼è½¬æ¢</p>
<p><strong>ä¸å‰è¿°ä¾‹å­ç›¸åŒ</strong></p>
<table>
<thead>
<tr>
<th align="center">.uint8 		.uint16 		.uint32		 .uint64 		.int8</th>
</tr>
</thead>
<tbody><tr>
<td align="center">.toUnit8 		toUint16		 toUint32		 toUint64		 toInt8</td>
</tr>
<tr>
<td align="center">.int16		 .int32		 .int64 		.long 		.float 		.double</td>
</tr>
<tr>
<td align="center">.toInt16		.toInt32		 .toInt64 		.toLong 		.toFloat 		.toDouble</td>
</tr>
</tbody></table>
<p>å±æ€§æ”¹å†™</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_One <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'note'</span><span class="token punctuation">,</span><span class="token string">"This image was created by 'rgbToHsv()'"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">setMulti</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">'author'</span><span class="token operator">:</span><span class="token string">'Jinzhu Wang'</span><span class="token punctuation">,</span> <span class="token string-property property">'mood'</span><span class="token operator">:</span><span class="token string">'Not Bad'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Remapå‘½ä»¤</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Old_Id <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">130</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">170</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">210</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">,</span><span class="token number">230</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> New_Id <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Land_Cover <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"ESA/GLOBCOVER_L4_200901_200912_V2_3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'landcover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Land_Remap <span class="token operator">=</span> Land_Cover<span class="token punctuation">.</span><span class="token function">remap</span><span class="token punctuation">(</span>Old_Id<span class="token punctuation">,</span>New_Id<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'landcover'</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">102.919</span><span class="token punctuation">,</span> <span class="token number">30.199</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Land_Cover<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Land_Remap<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"f1ff27"</span><span class="token punctuation">,</span><span class="token string">"35ce48"</span><span class="token punctuation">,</span><span class="token string">"07fff3"</span><span class="token punctuation">,</span><span class="token string">"f017ff"</span><span class="token punctuation">,</span><span class="token string">"e78845"</span><span class="token punctuation">,</span><span class="token string">"250bff"</span><span class="token punctuation">,</span><span class="token string">"ffffff"</span><span class="token punctuation">,</span><span class="token string">"ffffff"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'remaped'</span><span class="token punctuation">)</span>



ä¸Šè¿°remap å‘½ä»¤ç›¸å½“äºå¯¹æ …æ ¼value å€¼çš„â€œé‡åˆ†ç±»â€æ“ä½œã€‚
é€šè¿‡remapæ“ä½œï¼ŒåŸå§‹åœŸåœ°åˆ©ç”¨åˆ†ç±»å›¾åƒè¢«é‡æ–°å½’çº³æˆäº†â€œè€•ã€æ—ã€æ°´ã€è‰ã€å»ºç­‰â€<span class="token number">9</span>ç§åœ°ç±»<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼åŒºé—´èµ‹å€¼</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Land_Cover <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"ESA/GLOBCOVER_L4_200901_200912_V2_3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'landcover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> High_Land <span class="token operator">=</span> Land_Cover<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">88.96</span><span class="token punctuation">,</span> <span class="token number">33.77</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>High_Land<span class="token punctuation">)</span>


åŒºé—´èµ‹å€¼<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token function">ï¼Œlt</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>çš„å«ä¹‰æ˜¯å°†é«˜ç¨‹å°äº<span class="token number">4000</span>çš„åœ°åŒºèµ‹å€¼ä¸º<span class="token number">0</span>

<span class="token punctuation">.</span><span class="token function">clapm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯æˆªå–æŸä¸€æ®µåŒºé—´çš„å€¼ï¼Œå¤§äºæˆ–å°äºè¿™ä¸ªåŒºé—´çš„å€¼éƒ½ä»¥æœ€å¤§æˆ–æœ€å°å€¼å¤„ç†ï¼Œä¾‹å¦‚<span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">,</span><span class="token number">759</span><span class="token punctuation">)</span>çš„ä½œç”¨å°±æ˜¯å°†é«˜ç¨‹å¤§äº<span class="token number">795</span>ç±³çš„åœ°åŒºèµ‹å€¼ä¸º<span class="token number">795</span>ï¼Œå°äº<span class="token number">450</span>çš„åœ°åŒºèµ‹å€¼ä¸º<span class="token number">450</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼ä¸€å€¼åŒ–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> L8_One <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.5776</span><span class="token punctuation">,</span> <span class="token number">29.5577</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_Unitscale <span class="token operator">=</span> L8_One<span class="token punctuation">.</span><span class="token function">unitScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">32767</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span>L8_Unitscale<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_One<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B5"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">30000</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_Unitscale<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B5"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">0.92</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


ä¸€å€¼åŒ–çš„åŠŸèƒ½åœ¨äºå°†ç»™å®šåŒºé—´å†…çš„æ•°å€¼èŒƒå›´è½¬æ¢ä¸º<span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span> çš„åŒºé—´ï¼Œ
å½“å¯¹åŸå›¾åƒè¿›è¡Œä¸€å€¼åŒ–åï¼Œæ–°å›¾åƒæ˜¾ç¤ºèŒƒå›´æœ€å¤§å€¼<span class="token number">0.92</span> ä¸åŸå›¾åƒæ˜¾ç¤ºèŒƒå›´æœ€å¤§å€¼<span class="token number">30000</span> æ˜¯ç›¸åŒçš„ï¼Œå› ä¸º<span class="token number">30000</span><span class="token operator">/</span><span class="token number">32767</span> <span class="token operator">=</span> <span class="token number">0.92</span>ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼æ’å€¼</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Add_Center</span> <span class="token punctuation">(</span><span class="token parameter">feature</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> ee<span class="token punctuation">.</span><span class="token function">Geometry</span><span class="token punctuation">(</span>feature<span class="token punctuation">.</span><span class="token function">centroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> Provinces_Centers <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Add_Center<span class="token punctuation">)</span>
<span class="token keyword">var</span> Center_Distance <span class="token operator">=</span> Provinces_Centers<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token number">200000</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Distance_Interpolate <span class="token operator">=</span> Center_Distance<span class="token punctuation">.</span><span class="token function">interpolate</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token number">150000</span><span class="token punctuation">,</span> <span class="token number">200000</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'extrapolate'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>Provinces_Centers<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Center_Distance<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">200000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'origin'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Distance_Interpolate<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'interpolated'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Provinces_Centers<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'0000ff'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'centers'</span><span class="token punctuation">)</span>

æ³¨æ„æ’å€¼æ–¹å¼ä¸ºâ€œextrapolateâ€ï¼Œè¿™ç§æ’å€¼çš„æ•ˆæœæ˜¯æŒ‰ç…§<span class="token punctuation">.</span><span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„ç¬¬äºŒä¸ªå‚æ•°å€¼æ¥ç¡®å®šæ’å€¼å¤§å°ï¼Œç›¸å½“äºåˆ†é˜¶æ®µçš„çº¿æ€§è¿ç®—ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„æ¯”è¾ƒç­›é€‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> night_Lights <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">'NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'stable_lights'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>China<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> urban <span class="token operator">=</span> night_Lights<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">115.218</span><span class="token punctuation">,</span> <span class="token number">33.697</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>urban<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string-property property">"opacity"</span><span class="token operator">:</span><span class="token number">0.33</span><span class="token punctuation">,</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"stable_lights"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"171801"</span><span class="token punctuation">,</span><span class="token string">"fbff0f"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'Nighttime Lights'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


æ¯”è¾ƒç­›é€‰å‘½ä»¤è¿˜æœ‰ï¼š
ç­‰äºï¼ˆ<span class="token punctuation">.</span>eqï¼‰<span class="token punctuation">,</span>ä¸ç­‰äºï¼ˆ<span class="token punctuation">.</span>neq<span class="token punctuation">)</span><span class="token punctuation">,</span>å¤§äºï¼ˆ<span class="token punctuation">.</span>gt<span class="token punctuation">)</span><span class="token punctuation">,</span>å¤§äºç­‰äºï¼ˆ<span class="token punctuation">.</span>gte<span class="token punctuation">)</span><span class="token punctuation">,</span>å°äºï¼ˆ<span class="token punctuation">.</span>lt<span class="token punctuation">)</span><span class="token punctuation">,</span>å°äºç­‰äºï¼ˆ<span class="token punctuation">.</span>lte<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„é€»è¾‘è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>ï¼›<span class="token comment">//å¯¼å…¥ä¸­å›½çœä»½çŸ¢é‡</span>
<span class="token keyword">var</span> night_Lights <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">'NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'stable_lights'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>China<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯¼å…¥å¤œå…‰æ•°æ®ï¼Œé€‰æ‹©å±æ€§ä¸ºstable_lightsï¼Œè£å‰ªåŒºåŸŸä¸ºä¸­å›½</span>

<span class="token keyword">var</span> urban <span class="token operator">=</span> night_Lights<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment">//åŸå¸‚çš„å¤œå…‰å€¼å¤§äº20</span>
<span class="token keyword">var</span> Low_Area <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>China<span class="token punctuation">)</span><span class="token comment">//å¯¼å…¥é«˜ç¨‹ï¼Œç­›é€‰å°äº20ï¼Œè£å‰ªä¸ºä¸­å›½</span>
<span class="token keyword">var</span> Low_Urban <span class="token operator">=</span> urban<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>Low_Area<span class="token punctuation">)</span> <span class="token comment">//ä½æµ·æ‹”ä¸”å¤œå…‰å€¼å¤§äº20çš„åœ°åŒº</span>

<span class="token function">print</span><span class="token punctuation">(</span>Low_Area<span class="token punctuation">,</span>urban<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">115.218</span><span class="token punctuation">,</span> <span class="token number">33.697</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>night_Lights<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Low_Area<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Low_Urban<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼æ•°å­¦è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">   <span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.5749</span><span class="token punctuation">,</span> <span class="token number">29.5588</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">B5</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B5'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">B4</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B4'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">B3</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">NDVI</span> <span class="token operator">=</span> <span class="token constant">B5</span><span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token constant">B4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token constant">B5</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token constant">B3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span><span class="token constant">NDVI</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">NDVI</span><span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"0f01e2"</span><span class="token punctuation">,</span><span class="token string">"ff9d93"</span><span class="token punctuation">,</span><span class="token string">"fff707"</span><span class="token punctuation">,</span><span class="token string">"11ff2e"</span><span class="token punctuation">,</span><span class="token string">"04ce14"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„è¡¨è¾¾å¼è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_RT"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.5749</span><span class="token punctuation">,</span> <span class="token number">29.5588</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> evi <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span>
<span class="token string">'2.5 * ((NIR - RED) / (NIR + 6 * RED - 7.5 * BLUE + 1))'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
<span class="token string-property property">'NIR'</span><span class="token operator">:</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B5'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string-property property">'RED'</span><span class="token operator">:</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B4'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string-property property">'BLUE'</span><span class="token operator">:</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B2'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>evi<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>evi<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"0f01e2"</span><span class="token punctuation">,</span><span class="token string">"ff9d93"</span><span class="token punctuation">,</span><span class="token string">"fff707"</span><span class="token punctuation">,</span><span class="token string">"11ff2e"</span><span class="token punctuation">,</span><span class="token string">"04ce14"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>



è¡¨è¾¾å¼è¿ç®—å‘½ä»¤æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä»¥æ–‡æœ¬å½¢å¼æç»˜å‡ºè¿ç®—è§„åˆ™ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»¥å­—
å…¸å½¢å¼åˆ¶å®šè¿ç®—è§„åˆ™ä¸­å˜é‡åˆ¶å®šçš„å…·ä½“æ³¢æ®µã€‚

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„ä½è¿ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Image_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Image_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Bit_And <span class="token operator">=</span> Image_1<span class="token punctuation">.</span><span class="token function">bitwiseAnd</span><span class="token punctuation">(</span> Image_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Bit_Or <span class="token operator">=</span> Image_1<span class="token punctuation">.</span><span class="token function">bitwiseOr</span><span class="token punctuation">(</span> Image_2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span> <span class="token punctuation">(</span> <span class="token string">'Image of bitwise 1 and 2 ='</span><span class="token punctuation">,</span> Bit_And <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span> <span class="token punctuation">(</span> <span class="token string">'Image of bitwise 1 or 2 ='</span><span class="token punctuation">,</span> Bit_Or <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Image_1<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'Image of 1s'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Image_2<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'Image of 2s'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Bit_And<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'Image of Bits from Both'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Bit_Or <span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'Image of Bits from Either'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

æ …æ ¼å›¾åƒçš„ä½è¿ç®—åœ¨æœ¬è´¨ä¸Šä¸æ•°å­—çš„ä½è¿ç®—æ˜¯ç›¸åŒçš„ï¼Œå³éƒ½æ˜¯å°†åè¿›åˆ¶æ•°å­—è½¬æ¢æˆäºŒè¿›åˆ¶æ•°å­—åï¼Œé€šè¿‡å¯¹ç›¸åŒä½ç½®çš„äºŒè¿›åˆ¶æ•°å­—è¿›è¡Œé€»è¾‘å¯¹æ¯”å¾—åˆ°æœ€ç»ˆç»“æœã€‚

<span class="token function">ä½è¿ç®—åœ¨æ …æ ¼ä¸­çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨ä½œå»äº‘å¤„ç†ï¼Œå…¶åŸç†æ˜¯</span><span class="token punctuation">(</span>ä¸»è¦é’ˆå¯¹Landsat ç³»åˆ—æ•°æ®<span class="token punctuation">)</span><span class="token function">é¥æ„Ÿå›¾åƒæ¯ä¸ªåƒç´ éƒ½å­˜åœ¨ç±»ä¼¼â€œå¤´æ–‡ä»¶â€çš„åå‡ ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå…¶ä¸­æœ‰è‹¥å¹²å­—èŠ‚çš„æ•°æ®å¯ä»¥è¡¨ç¤ºè¿™ä¸ªåƒç´ æ˜¯å¦è¢«äº‘å±‚è¦†ç›–</span><span class="token punctuation">(</span><span class="token number">0</span> ä»£è¡¨æ— äº‘ï¼Œ<span class="token number">1</span> ä»£è¡¨æœ‰äº‘<span class="token punctuation">)</span>ï¼Œå¯¹éƒ¨åˆ†æ•°æ®è¿›è¡Œä½è¿ç®—ç­›é€‰å³å¯å¾—åˆ°å»äº‘ç›®çš„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½è¿ç®—</p>
<p>bitwiseAnd    bitwiseOr    bitwiseXor     bitwiseNot    leftShift     rightShift<br>bitwise_and   bitwise_or   bitwise_xor   bitwise_not   left_shift    right_shift</p>
<p>æ …æ ¼å¾®åˆ†æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> OldIMAGE <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token string">'CGIAR/SRTM90_V4'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> NewIMAGE <span class="token operator">=</span> OldIMAGE<span class="token punctuation">.</span><span class="token function">derivative</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.4448</span><span class="token punctuation">,</span> <span class="token number">29.5684</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> NewIMAGE<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'elevation_x'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">90</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Slope from Left to Right'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> NewIMAGE<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'elevation_y'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">90</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Slope from Top to Bottom'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


è¯¥å‘½ä»¤çš„åŠŸèƒ½æ˜¯è®¡ç®—å›¾åƒåƒç´ å€¼åœ¨<span class="token constant">X</span><span class="token punctuation">(</span>æ¨ª<span class="token punctuation">)</span>å’Œ<span class="token constant">Y</span><span class="token punctuation">(</span>çºµ<span class="token punctuation">)</span>æ–¹å‘ä¸Šçš„æ•°å€¼å˜åŒ–ç‡ã€‚å°†ä¸¤è€…è¿›è¡Œ
<span class="token function">atan</span><span class="token punctuation">(</span><span class="token punctuation">)</span>è¿ç®—ï¼Œå¹¶ä¸”æ±‚å–è¿ç®—åä¸¤å€¼å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹å°±å¾—åˆ°äº†å¡åº¦ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ …æ ¼çš„åœ°å½¢æ“ä½œ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token string">'CGIAR/SRTM90_V4'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Terrain <span class="token operator">=</span> ee<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">products</span><span class="token punctuation">(</span> <span class="token constant">DEM</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span> <span class="token number">106.371</span><span class="token punctuation">,</span> <span class="token number">29.6188</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> <span class="token constant">DEM</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'000099,dddd00'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Elevation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Terrain<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'slope'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'000000,ff0000'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Slope'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Terrain<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'aspect'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'00ff00,0000ff,00ff00'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'Aspect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Terrain<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'hillshade'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Hillshading'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å‡½æ•°</p>
<p>ee.reducerRegion()</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//ç¼©å‡æ˜¯é‡‡ç”¨ä»»æ„æ•°é‡çš„è¾“å…¥ï¼ˆä¾‹å¦‚ç»™å®šåŒºåŸŸä¸­å›¾åƒçš„æ‰€æœ‰åƒç´ ï¼‰å¹¶è®¡ç®—ä¸€ä¸ªæˆ–å¤šä¸ªå›ºå®šè¾“å‡ºçš„ä»»ä½•è¿‡ç¨‹ã€‚ ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«è®¡ç®—å€¼çš„å­—å…¸ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯è¯¥åŒºåŸŸä¸­çš„æœ€å¤§åƒç´ å€¼ã€‚</span>
<span class="token comment">//ç¼©å‡å™¨ï¼Œä½¿ç”¨è®¡ç®—æœ€å¤§åƒç´ å€¼å¾—ç¼©å‡å™¨ç¼©å°åˆ°ç»™å®šåŒºåŸŸå†…å¾—å›¾åƒã€‚ eg.æ­¤å¤„æ˜¯å°†polyåŒºåŸŸå†…å½±åƒç©ºé—´åˆ†è¾¨ç‡reduceråˆ°200m</span>
ee<span class="token punctuation">.</span><span class="token function">reducerRegion</span><span class="token punctuation">(</span>
	reducerï¼šee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">geomtry</span><span class="token operator">:</span>poly<span class="token punctuation">,</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span><span class="token number">200</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>joinå‡½æ•°</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//joinå‡½æ•°å¾—åŸºæœ¬æ ¼å¼æ˜¯join.apply(),è¯¥å‘½ä»¤æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å·¦ä¾§æ•°æ®é›†ï¼Œå³ä¾§æ•°æ®é›†å’Œè¿æ¥æ¡ä»¶ï¼Œå…¶ä¸­è¿æ¥æ¡ä»¶æ˜¯ä¸€ä¸ªç­›é€‰å™¨ee.Filter()ã€‚å¯¹äºç­›é€‰å™¨æ¥è¯´ï¼Œéœ€è¦åˆ¶å®šçš„å‚æ•°åŒ…æ‹¬â€œå·¦ä¾§æ•°æ®é›†è¿æ¥è¯â€ï¼Œâ€œå³ä¾§æ•°æ®é›†è¿æ¥è¯â€å’Œâ€œç­›é€‰æ¡ä»¶â€ã€‚</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>ee.ImageCollection.fromImages</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//å°†å¤šä¸ªliståˆå¹¶ä¸ºä¸€ä¸ªimageCollectionï¼Œè¿”å›åŒ…å«ç»™å®šå›¾åƒçš„å›¾åƒé›†åˆimageCollectionã€‚</span>
ee<span class="token punctuation">.</span>ImageCollection<span class="token punctuation">.</span><span class="token function">fromImages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p>Reducerï¼šReduceræ˜¯GEEä¸­æŒ‰ç…§æ—¶é—´ã€ç©ºé—´ã€æ³¢æ®µç­‰è¿›è¡Œæ•´åˆæ•°æ®çš„æ–¹æ³•ï¼›ç±»ä¼¼äºä»éƒ¨åˆ†åˆ°æ•´ä½“ã€‚</p>
<h3 id="4ã€ImageCollection"><a href="#4ã€ImageCollection" class="headerlink" title="4ã€ImageCollection"></a>4ã€ImageCollection</h3><p>ImageCollectionä¸FeatureCollectionæœ‰å¾ˆå¤šå‘½ä»¤æ˜¯é‡å¤çš„ã€‚</p>
<p>æœ€åConfusionã€Marix å¸¸ç”¨äºé¥æ„Ÿåˆ†ç±»å›¾åƒçš„éªŒè¯ã€‚</p>
<p>ImageCollectionçš„åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Night_Light <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span> <span class="token string">'NOAA/DMSP-OLS/NIGHTTIME_LIGHTS'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> image_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> image_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> collection <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>image_1<span class="token punctuation">,</span>image_2<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Night_Light<span class="token punctuation">,</span>collection<span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span> <span class="token number">107.54</span><span class="token punctuation">,</span> <span class="token number">34.37</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Night_Light<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0.7</span><span class="token punctuation">&#125;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ImageCollectionçš„ç­›é€‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>China<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'CLOUD_COVER'</span><span class="token punctuation">,</span><span class="token string">'less_than'</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span> <span class="token number">107.753</span><span class="token punctuation">,</span> <span class="token number">34.238</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> <span class="token constant">L8</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token string">'B4,B3,B2'</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Original Images'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

æ­¤å¤„ç­›é€‰æ˜¯â€æ­£å¸¸çš„ç­›é€‰â€œï¼Œå‚è€ƒä»¥ä¸‹ä»£ç ï¼š
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>China<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">Bounds</span><span class="token punctuation">(</span>China<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterMetadata</span> <span class="token punctuation">(</span>â€˜<span class="token constant">CLOUD_COVER</span>â€™<span class="token punctuation">,</span>â€˜less_thanâ€™<span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">Metadata</span><span class="token punctuation">(</span>â€˜<span class="token constant">CLOUD_COVER</span>â€™<span class="token punctuation">,</span>â€˜less_thanâ€™<span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ImageCollectionçš„é™åˆ¶ç­›é€‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.5487</span><span class="token punctuation">,</span> <span class="token number">29.5444</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-03-01'</span><span class="token punctuation">,</span><span class="token string">'2019-03-01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> L8_Limit <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> <span class="token constant">L8</span><span class="token punctuation">,</span> L8_Limit <span class="token punctuation">)</span><span class="token punctuation">;</span>

é™åˆ¶æ•°é‡ä¸º<span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ImageCollectionçš„é€‰æ‹©åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.5487</span><span class="token punctuation">,</span> <span class="token number">29.5444</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-03-01'</span><span class="token punctuation">,</span><span class="token string">'2019-03-01'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_Select <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">,</span><span class="token string">'B3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Near infrared'</span><span class="token punctuation">,</span><span class="token string">'Red'</span><span class="token punctuation">,</span><span class="token string">'Green'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span> <span class="token string">'Original'</span><span class="token punctuation">,</span> <span class="token constant">L8</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> <span class="token string">'Selected'</span><span class="token punctuation">,</span> L8_Select <span class="token punctuation">)</span><span class="token punctuation">;</span>

é€‰æ‹©åˆ›å»ºå‘½ä»¤<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŠŸèƒ½æ˜¯åˆ›å»ºåŸºäºæºæ•°æ®çš„â€œå‰¯æœ¬â€ï¼ŒåŒæ—¶ï¼Œé€šè¿‡æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°å€¼ï¼Œè¿˜å¯ä»¥å¯¹å‰¯æœ¬æ•°æ®å±æ€§è¿›è¡Œé‡å‘½åã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>.map å‘½ä»¤</p>
<p>.map å‘½ä»¤æ˜¯å¯¹çŸ¢é‡æˆ–è€…æ …æ ¼æ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®éƒ½è¿›è¡ŒåŒæ ·çš„æ“ä½œã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">107.193</span><span class="token punctuation">,</span> <span class="token number">29.1373</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B[4,5]'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">add_NDVI</span> <span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token constant">NDVI</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">//.normalizedDifference å‘½ä»¤æ˜¯è¿›è¡Œå½’ä¸€åŒ–å·®å€¼è¿ç®—</span>
    <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span><span class="token constant">NDVI</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> <span class="token constant">L8_NDVI</span> <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>add_NDVI<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">L8</span><span class="token punctuation">,</span><span class="token constant">L8_NDVI</span><span class="token punctuation">)</span>


æœ¬ä¾‹ä¸­ï¼Œé€šè¿‡<span class="token keyword">function</span> å‘½ä»¤ç¼–è¾‘äº†æ·»åŠ <span class="token constant">NDVI</span> çš„å‘½ä»¤ï¼Œç„¶ååˆ©ç”¨<span class="token punctuation">.</span>map å°†è¿™ä¸ªå‘½ä»¤ç»Ÿä¸€è¿ç”¨åˆ°Image Collection é‡Œï¼Œè¾¾åˆ°ç»™Image Collection é‡Œæ¯ä¸ªå›¾åƒæ·»åŠ <span class="token constant">NDVI</span> çš„ç›®çš„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>







<h2 id="ä¸‰ã€æ¡ˆä¾‹åˆ†æ"><a href="#ä¸‰ã€æ¡ˆä¾‹åˆ†æ" class="headerlink" title="ä¸‰ã€æ¡ˆä¾‹åˆ†æ"></a>ä¸‰ã€æ¡ˆä¾‹åˆ†æ</h2><h3 id="1ã€NDWIè®¡ç®—â€”-ä»¥Landsat8ä¸ºä¾‹"><a href="#1ã€NDWIè®¡ç®—â€”-ä»¥Landsat8ä¸ºä¾‹" class="headerlink" title="1ã€NDWIè®¡ç®—â€”-ä»¥Landsat8ä¸ºä¾‹"></a>1ã€NDWIè®¡ç®—â€”-ä»¥Landsat8ä¸ºä¾‹</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//landsat NDWI demo</span>
<span class="token keyword">function</span> <span class="token constant">NDWI_V1</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> nir <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"B5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> green <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"B3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ndwi <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span>
    <span class="token string">"(Green-Nir)/(Green+Nir)"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      <span class="token string-property property">"Green"</span><span class="token operator">:</span>green<span class="token punctuation">,</span>
      <span class="token string-property property">"Nir"</span><span class="token operator">:</span>nir
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ndwi<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//landsat8 image and roi</span>
<span class="token keyword">var</span> l8_col <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC8_L1T_TOA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> roi <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">124.1455078125</span><span class="token punctuation">,</span><span class="token number">45.644768217751924</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> img <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span>l8_col<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">"2017-02-01"</span><span class="token punctuation">,</span> <span class="token string">"2017-09-23"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ndwi <span class="token operator">=</span> <span class="token constant">NDWI_V1</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> visParam <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'00FFFF'</span><span class="token punctuation">,</span> <span class="token string">'0000FF'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B4"</span><span class="token punctuation">,</span> <span class="token string">"B3"</span><span class="token punctuation">,</span> <span class="token string">"B2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"raw_img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndwi<span class="token punctuation">,</span>visParam<span class="token punctuation">,</span><span class="token string">"ndwi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>roi<span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//show charts</span>
<span class="token keyword">var</span> ndwi_list <span class="token operator">=</span> l8_col<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">"2017-01-01"</span><span class="token punctuation">,</span> <span class="token string">"2017-09-23"</span><span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                        <span class="token keyword">var</span> cloud <span class="token operator">=</span> ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span>Landsat<span class="token punctuation">.</span><span class="token function">simpleCloudScore</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"cloud"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">var</span> mask <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">lte</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">var</span> ndwi <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"B3"</span><span class="token punctuation">,</span><span class="token string">"B5"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'NDWI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span>ndwi<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> chart1 <span class="token operator">=</span> ui<span class="token punctuation">.</span>Chart<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">imageCollection</span><span class="token operator">:</span>ndwi_list<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDWI"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">region</span><span class="token operator">:</span>roi<span class="token punctuation">,</span>
  <span class="token literal-property property">reducer</span><span class="token operator">:</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scale</span><span class="token operator">:</span><span class="token number">30</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"NDWI IMAGE SERIES"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>chart1<span class="token punctuation">)</span>

<span class="token keyword">var</span> chart2 <span class="token operator">=</span>  ui<span class="token punctuation">.</span>Chart<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">doySeries</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">imageCollection</span><span class="token operator">:</span>ndwi_list<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDWI"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">region</span><span class="token operator">:</span>roi<span class="token punctuation">,</span>
  <span class="token literal-property property">regionReducer</span><span class="token operator">:</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scale</span><span class="token operator">:</span><span class="token number">30</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"ROI NDWI DAY SERIES"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>chart2<span class="token punctuation">)</span>


å›¾è¡¨æ˜¯ç”Ÿæˆçš„ä¸º<span class="token constant">NDWI</span>å€¼åºåˆ—


å‡½æ•°<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"b1"</span><span class="token punctuation">,</span><span class="token string">"b2"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> è®¡ç®—<span class="token constant">NDVI</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="2ã€æ …æ ¼çš„å±±ä½“é˜´å½±æ“ä½œ-Mapç»„ä»¶"><a href="#2ã€æ …æ ¼çš„å±±ä½“é˜´å½±æ“ä½œ-Mapç»„ä»¶" class="headerlink" title="2ã€æ …æ ¼çš„å±±ä½“é˜´å½±æ“ä½œ&#x2F; Mapç»„ä»¶"></a>2ã€æ …æ ¼çš„å±±ä½“é˜´å½±æ“ä½œ&#x2F; Mapç»„ä»¶</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span> <span class="token string">'CGIAR/SRTM90_V4'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DEM_Mercator <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">reproject</span><span class="token punctuation">(</span> <span class="token string">'EPSG:3857'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Shadow_1 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">hillShadow</span><span class="token punctuation">(</span> DEM_Mercator<span class="token punctuation">,</span> <span class="token number">315.0</span><span class="token punctuation">,</span> <span class="token number">75.0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Shadow_2 <span class="token operator">=</span> ee<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">hillShadow</span><span class="token punctuation">(</span> DEM_Mercator<span class="token punctuation">,</span> <span class="token number">315.0</span><span class="token punctuation">,</span> <span class="token number">70.0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span> <span class="token number">106.5568</span><span class="token punctuation">,</span> <span class="token number">29.5527</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> <span class="token constant">DEM</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1500</span><span class="token punctuation">,</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token string">'0000ff,ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Elevation'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Shadow_1<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Longer Shadows'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Shadow_2<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Shorter Shadows'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>



ee<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span>hillShadow èƒ½æ›´åŠ ä¸ªæ€§åŒ–çš„è°ƒæ•´é˜´å½±çŠ¶æ€ï¼Œè¯¥å‘½ä»¤ä¸€å…±æœ‰<span class="token number">5</span> ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯â€œå›¾åƒâ€ï¼Œâ€œå¤©é¡¶è§’â€ï¼Œâ€œå¤ªé˜³é«˜åº¦è§’â€ï¼Œâ€œé‚»åŸŸå¤§å°â€å’Œâ€œæ˜¯å¦ç£æ»â€ã€‚å…¶ä¸­â€œæ˜¯å¦ç£æ»â€å¦‚æœè¾“å…¥ä¸º<span class="token boolean">true</span>ï¼Œä¼šé™ä½é˜´å½±çš„å‡†ç¡®æ€§ï¼Œä½†æ˜¯ä¼šæé«˜é˜´å½±çš„æ˜¾ç¤ºæ•ˆæœã€‚


<span class="token punctuation">.</span><span class="token function">setcenter</span><span class="token punctuation">(</span>lonï¼Œlat<span class="token punctuation">,</span> zoom<span class="token punctuation">,</span>dragging<span class="token punctuation">,</span>forceChange<span class="token punctuation">)</span>å‡½æ•°æ˜¯è®¾ç½®åœ°å›¾ä¸­å¿ƒä½ç½®ï¼Œ
lonlatæ˜¯ä¸­å¿ƒxyåæ ‡ï¼Œzoomä¸ºç¼©æ”¾æ¯”ä¾‹ï¼Œdragging <span class="token punctuation">&#123;</span>Boolean<span class="token punctuation">&#125;</span> æŒ‡å®šæ˜¯å¦è§¦å‘movestart<span class="token operator">/</span>end äº‹ä»¶ ï¼Œ forceZoomChange <span class="token punctuation">&#123;</span>Boolean<span class="token punctuation">&#125;</span> æŒ‡å®šæ˜¯å¦è§¦å‘zoomchangeäº‹ä»¶ï¼Œä¾èµ–äºbaseLayerçš„å˜åŒ–

<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> zoom<span class="token punctuation">)</span> ä»¥objectå¯¹è±¡èŒƒå›´å±…ä¸­æ˜¾ç¤ºï¼ŒåŒæ—¶è®¾ç½®ç¼©æ”¾çº§åˆ«ä¸ºzoom

<span class="token function">addLayer</span><span class="token punctuation">(</span>eeObject<span class="token punctuation">,</span> visParams<span class="token punctuation">,</span> name<span class="token punctuation">,</span> shown<span class="token punctuation">,</span> opacity<span class="token punctuation">)</span> æ·»åŠ å›¾å±‚åˆ°Mapä¸Š
min<span class="token punctuation">,</span>maxè¿™äº›è¡¨ç¤ºè¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ³¢æ®µå€¼çš„ä¸‹é™å’Œä¸Šé™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæä¾›çš„æœ€å°å€¼æ˜ å°„ä¸ºé»‘è‰²ï¼Œæä¾›çš„æœ€å¤§å€¼æ˜ å°„ä¸ºç™½è‰²ã€‚æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´çš„å€¼çº¿æ€§æ˜ å°„ä¸ºé»‘è‰²å’Œç™½è‰²ä¹‹é—´çš„ç°åº¦ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3ã€æ …æ ¼å¡«æ´¼æ“ä½œ"><a href="#3ã€æ …æ ¼å¡«æ´¼æ“ä½œ" class="headerlink" title="3ã€æ …æ ¼å¡«æ´¼æ“ä½œ"></a>3ã€æ …æ ¼å¡«æ´¼æ“ä½œ</h3><p>å¡«å……è¡¨é¢æ …æ ¼ä¸­çš„æ´¼åœ°ä»¥ç§»é™¤æ•°æ®ä¸­çš„å°ç¼ºé™·ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">'CGIAR/SRTM90_V4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DEM_Fill <span class="token operator">=</span> ee<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">fillMinima</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">107.8729</span><span class="token punctuation">,</span> <span class="token number">29.2441</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Fill<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1500</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"2f5bff"</span><span class="token punctuation">,</span><span class="token string">"0dff09"</span><span class="token punctuation">,</span><span class="token string">"efff05"</span><span class="token punctuation">,</span><span class="token string">"ff9931"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"Unfilled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Fill<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1500</span><span class="token punctuation">,</span> <span class="token literal-property property">palette</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"2f5bff"</span><span class="token punctuation">,</span><span class="token string">"0dff09"</span><span class="token punctuation">,</span><span class="token string">"efff05"</span><span class="token punctuation">,</span><span class="token string">"ff9931"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"Filled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="4ã€æ …æ ¼çš„å·ç§¯æ“ä½œ"><a href="#4ã€æ …æ ¼çš„å·ç§¯æ“ä½œ" class="headerlink" title="4ã€æ …æ ¼çš„å·ç§¯æ“ä½œ"></a>4ã€æ …æ ¼çš„å·ç§¯æ“ä½œ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token constant">KERNEL</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">fixed</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Convolve_DEM <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span><span class="token constant">KERNEL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">105.8125</span><span class="token punctuation">,</span> <span class="token number">29.4033</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"DEM"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Convolve_DEM<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">12000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"Convolve_Dem"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="5ã€æ …æ ¼çš„é‚»åŸŸç¼©å‡æ“ä½œ"><a href="#5ã€æ …æ ¼çš„é‚»åŸŸç¼©å‡æ“ä½œ" class="headerlink" title="5ã€æ …æ ¼çš„é‚»åŸŸç¼©å‡æ“ä½œ"></a>5ã€æ …æ ¼çš„é‚»åŸŸç¼©å‡æ“ä½œ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DEM_ReduceNeighbor <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">reduceNeighborhood</span><span class="token punctuation">(</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span> <span class="token number">105.9479</span><span class="token punctuation">,</span> <span class="token number">29.4165</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'DEM'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_ReduceNeighbor<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'DEM_ReduceNeighbor'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="6ã€æ …æ ¼è½¬çŸ¢é‡"><a href="#6ã€æ …æ ¼è½¬çŸ¢é‡" class="headerlink" title="6ã€æ …æ ¼è½¬çŸ¢é‡"></a>6ã€æ …æ ¼è½¬çŸ¢é‡</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Water <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"ESA/GLOBCOVER_L4_200901_200912_V2_3"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'landcover'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span><span class="token number">209</span><span class="token punctuation">,</span><span class="token number">211</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">106.32728668689242</span><span class="token punctuation">,</span> <span class="token number">29.46329064748005</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">106.76948639392367</span><span class="token punctuation">,</span> <span class="token number">29.462692803378452</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">106.77017303943148</span><span class="token punctuation">,</span> <span class="token number">29.65740304071832</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token number">106.31355377673617</span><span class="token punctuation">,</span> <span class="token number">29.654419523039962</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Water_Vecter <span class="token operator">=</span> Water<span class="token punctuation">.</span><span class="token function">reduceToVectors</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> geometry<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'polygon'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Water_BoundBox <span class="token operator">=</span> Water<span class="token punctuation">.</span><span class="token function">reduceToVectors</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> geometry<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'bb'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Water_Center_4 <span class="token operator">=</span> Water<span class="token punctuation">.</span><span class="token function">reduceToVectors</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> geometry<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'centroid'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Water_Center_8 <span class="token operator">=</span> Water<span class="token punctuation">.</span><span class="token function">reduceToVectors</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> geometry<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'centroid'</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.5587</span><span class="token punctuation">,</span> <span class="token number">29.5631</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Water<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"ffffff"</span><span class="token punctuation">,</span><span class="token string">"1707ff"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'Water'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Water_Vecter<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'dddddd'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'The Polygons'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Water_BoundBox<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'888888'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'The Bounding Boxes'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Water_Center_4<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'4-way Centroids'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span> Water_Center_8<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ffffff'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'8-way Centroids'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


æ …æ ¼è½¬çŸ¢é‡å…±æœ‰<span class="token number">12</span> ä¸ªå‚æ•°ï¼Œè¿™é‡Œç€é‡ä»‹ç»ç¬¬<span class="token number">4</span> ä¸ªâ€œçŸ¢é‡ç±»å‹â€å’Œç¬¬äº”ä¸ªâ€œæ˜¯å¦è®¡ç®—æ–œè¾¹â€ã€‚
çŸ¢é‡ç±»å‹å…±æœ‰ä¸‰ç§ï¼šâ€œpolygonâ€ï¼Œâ€œbbâ€å’Œâ€œcentroidâ€ï¼Œåˆ†åˆ«ä»£è¡¨ä¸è§„åˆ™é¢ã€çŸ©å½¢å’Œç‚¹ã€‚

æ˜¯å¦è®¡ç®—æ–œè¾¹çš„åŠŸèƒ½æ˜¯å‘Šè¯‰<span class="token constant">GEE</span> <span class="token function">æ …æ ¼è½¬çŸ¢é‡çš„æ—¶å€™æ˜¯å¦è¦æŠŠæ–œå‘ç›¸æ¥</span><span class="token punctuation">(</span>é™¤äº†ä¸Šä¸‹å·¦å³ä¹‹å¤–çš„å…¶ä»–å››ä¸ªæ–¹å‘<span class="token punctuation">)</span>çš„æ …æ ¼ç®—ä½œçŸ¢é‡çš„ä¸€éƒ¨åˆ†ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="7ã€æ …æ ¼è¾“å‡ºæ“ä½œ"><a href="#7ã€æ …æ ¼è¾“å‡ºæ“ä½œ" class="headerlink" title="7ã€æ …æ ¼è¾“å‡ºæ“ä½œ"></a>7ã€æ …æ ¼è¾“å‡ºæ“ä½œ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> dem <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> roi <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">106.20650888671878</span><span class="token punctuation">,</span> <span class="token number">29.570337903152346</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">106.54159189453128</span><span class="token punctuation">,</span> <span class="token number">29.56556010779314</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">106.54159189453128</span><span class="token punctuation">,</span> <span class="token number">29.725493070064537</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">106.21612192382815</span><span class="token punctuation">,</span> <span class="token number">29.71952998792036</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> dem_clip <span class="token operator">=</span> dem<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span><span class="token punctuation">;</span>

Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">image</span><span class="token operator">:</span>dem_clip<span class="token punctuation">,</span>
  <span class="token literal-property property">region</span><span class="token operator">:</span>roi
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

å‡½æ•°Export<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token function">tODrive</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span>region<span class="token punctuation">)</span> å‘Google driveè¾“å…¥å¯¼å‡ºçš„å›¾åƒ

è¾“å‡ºå‘½ä»¤ä¸­å»ºè®®æŒ‡å®šçš„ä¸¤ä¸ªå‚æ•°æ˜¯image å’Œregionï¼Œå¦‚æœä¸æŒ‡å®šregionï¼Œ <span class="token constant">GEE</span>ä¼šé»˜è®¤çš„å°†ç›®å‰è§†é‡ä¸­çš„å›¾åƒè¾“å‡ºå‡ºå»ï¼Œé€ æˆè¾“å‡ºæ•°æ®çš„ç¼ºå¤±ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="8ã€RGBç»„åˆ"><a href="#8ã€RGBç»„åˆ" class="headerlink" title="8ã€RGBç»„åˆ"></a>8ã€RGBç»„åˆ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> lights03 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">'NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F152003'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'stable_lights'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'2003'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lights13 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">'NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'stable_lights'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'2013'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> changeImage <span class="token operator">=</span> lights13<span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span>lights03<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span>lights93<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'stable_lights'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'1993'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'change image'</span><span class="token punctuation">,</span> changeImage<span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>
changeImage<span class="token punctuation">,</span>
<span class="token punctuation">&#123;</span>
 <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">63</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token string">'Change composite'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‡½æ•°çš„ä½œç”¨æ˜¯è‡ªå®šä¹‰æ³¢æ®µçš„åå­—
<span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‡½æ•°çš„ä½œç”¨æ˜¯å°†å‡½æ•°å‰é¢çš„å›¾åƒä½œä¸ºç¬¬ä¸€æ³¢æ®µï¼Œåé¢çš„å½±åƒä½œä¸ºç¬¬äºŒæ³¢æ®µè¿›è¡Œæ³¢æ®µç»„åˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>







<h2 id="å››ã€Landsat-Images"><a href="#å››ã€Landsat-Images" class="headerlink" title="å››ã€Landsat Images"></a>å››ã€Landsat Images</h2><p>GEE ä¸­å†…ç½®äº†è‹¥å¹²é’ˆå¯¹Landsat å«æ˜Ÿçš„å‘½ä»¤ï¼Œå¯¹è¿™äº›å‘½ä»¤çš„åˆç†ä½¿ç”¨èƒ½å¢åŠ åˆ†ææ•ˆç‡ã€‚</p>
<h3 id="1ã€qualityMosaic-å‘½ä»¤"><a href="#1ã€qualityMosaic-å‘½ä»¤" class="headerlink" title="1ã€qualityMosaic å‘½ä»¤"></a>1ã€qualityMosaic å‘½ä»¤</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">107.193</span><span class="token punctuation">,</span> <span class="token number">29.1373</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B[2-5]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">add_NDVI</span> <span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> <span class="token constant">NDVI</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//å½’ä¸€åŒ–å·®å€¼è¿ç®—ï¼ˆx-yï¼‰/(x+y)</span>
        <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">addBands</span><span class="token punctuation">(</span><span class="token constant">NDVI</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>ï¼›

<span class="token keyword">var</span> <span class="token constant">L8_NDVI</span> <span class="token operator">=</span> <span class="token constant">L8</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>add_NDVI<span class="token punctuation">)</span>ï¼›
<span class="token keyword">var</span> NDVI_Quality <span class="token operator">=</span> <span class="token constant">L8_NDVI</span><span class="token punctuation">.</span><span class="token function">qualityMosaic</span><span class="token punctuation">(</span><span class="token string">'nd'</span><span class="token punctuation">)</span>ï¼›


Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.618</span><span class="token punctuation">,</span> <span class="token number">29.6653</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>NDVI_Quality<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"bands"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B5"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token string-property property">"gamma"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'NDVI qualified'</span><span class="token punctuation">)</span>


è¯¥å‘½ä»¤çš„åŠŸèƒ½æ˜¯â€œé€‰å‡ºæœ€å¤§å€¼åƒç´ â€ã€‚
æœ¬ä¾‹çš„Image Collection å·²ç»é€šè¿‡<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤ç»™å…¶ä¸­çš„æ¯ä¸ªå›¾åƒéƒ½å¢åŠ äº†<span class="token constant">NDVI</span><span class="token punctuation">(</span>æ³¢æ®µåä¸ºnd<span class="token punctuation">)</span>æ•°æ®ï¼Œå½“åˆ©ç”¨qualityMosaic å‘½ä»¤å¹¶ä¸”é€‰æ‹©ndæ³¢æ®µä¸ºå‚æ•°æ—¶ï¼Œå…¶ç»“æœå°±æ˜¯å°†Image Collection çš„<span class="token constant">NDVI</span> æœ€å¤§çš„åƒç´ æŒ‘é€‰å‡ºæ¥å¹¶ç»„åˆæˆ
ä¸€å‰¯å›¾åƒã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="2ã€å…‰è°±åˆ†ç¦»å‘½ä»¤"><a href="#2ã€å…‰è°±åˆ†ç¦»å‘½ä»¤" class="headerlink" title="2ã€å…‰è°±åˆ†ç¦»å‘½ä»¤"></a>2ã€å…‰è°±åˆ†ç¦»å‘½ä»¤</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//åŠ è½½â€œå»ºè®¾ç”¨åœ°â€ï¼Œâ€œæ°´ä½“â€å’Œâ€œç»¿åœ°â€çš„Geometry</span>
<span class="token keyword">var</span> landsat5 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LT05/C01/T1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    China_provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    CQ_point <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">106.54876499135139</span><span class="token punctuation">,</span> <span class="token number">29.594019931841714</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bare <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">106.55483080849444</span><span class="token punctuation">,</span> <span class="token number">29.529437948319515</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">106.55139765445824</span><span class="token punctuation">,</span> <span class="token number">29.52555451875115</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">106.55654738551414</span><span class="token punctuation">,</span> <span class="token number">29.52346337953001</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">106.55843565976829</span><span class="token punctuation">,</span> <span class="token number">29.527496216222946</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> water <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">106.57311345239873</span><span class="token punctuation">,</span> <span class="token number">29.569534351977307</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">106.56727579226686</span><span class="token punctuation">,</span> <span class="token number">29.56833967471457</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">106.56933614290324</span><span class="token punctuation">,</span> <span class="token number">29.5656515992401</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">var</span> veg <span class="token operator">=</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">106.77944972250918</span><span class="token punctuation">,</span> <span class="token number">29.553706593461722</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">106.7749865267084</span><span class="token punctuation">,</span> <span class="token number">29.552511969146664</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">106.77773310873965</span><span class="token punctuation">,</span> <span class="token number">29.548330672830648</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//å®šä¹‰æ—¶é—´èŒƒå›´</span>
<span class="token keyword">var</span> ChongQing <span class="token operator">=</span> China_provinces<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>CQ_point<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> start_date <span class="token operator">=</span> <span class="token string">'2008-01-01'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> end_date <span class="token operator">=</span> <span class="token string">'2008-12-31'</span><span class="token punctuation">;</span>

<span class="token comment">//åˆæˆæ— äº‘å›¾åƒ</span>
<span class="token keyword">var</span> filtered <span class="token operator">=</span> landsat5<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>CQ_point<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>start_date<span class="token punctuation">,</span> end_date<span class="token punctuation">)</span>
<span class="token keyword">var</span> composite <span class="token operator">=</span> ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span>Landsat<span class="token punctuation">.</span><span class="token function">simpleComposite</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">collection</span><span class="token operator">:</span> filtered<span class="token punctuation">,</span><span class="token literal-property property">asFloat</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ç¡®å®šè¿ç®—æ³¢æ®µ</span>
<span class="token keyword">var</span> unmixImage <span class="token operator">=</span> composite<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token string">'B2'</span><span class="token punctuation">,</span> <span class="token string">'B3'</span><span class="token punctuation">,</span> <span class="token string">'B4'</span><span class="token punctuation">,</span> <span class="token string">'B5'</span><span class="token punctuation">,</span> <span class="token string">'B7'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//è·å–è§£ç¼ çš„â€œè§£â€</span>
<span class="token keyword">var</span> bareMean <span class="token operator">=</span> unmixImage<span class="token punctuation">.</span><span class="token function">reduceRegion</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bare<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> waterMean <span class="token operator">=</span> unmixImage<span class="token punctuation">.</span><span class="token function">reduceRegion</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> water<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> vegMean <span class="token operator">=</span> unmixImage<span class="token punctuation">.</span><span class="token function">reduceRegion</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> veg<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> endmembers <span class="token operator">=</span> ee<span class="token punctuation">.</span>Array<span class="token punctuation">.</span><span class="token function">cat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>bareMean<span class="token punctuation">,</span> vegMean<span class="token punctuation">,</span> waterMean<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//è·å–è§£ç¼ çš„â€œç¼ â€</span>
<span class="token keyword">var</span> arrayImage <span class="token operator">=</span> unmixImage<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//è¿›è¡Œè§£ç¼ </span>
<span class="token keyword">var</span> unmixed <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span>endmembers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matrixSolve</span><span class="token punctuation">(</span>arrayImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> unmixedImage <span class="token operator">=</span> unmixed<span class="token punctuation">.</span><span class="token function">arrayProject</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayFlatten</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'bare'</span><span class="token punctuation">,</span> <span class="token string">'veg'</span><span class="token punctuation">,</span> <span class="token string">'water'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//æŠŠç»“æœåŠ è½½åˆ°åº•å›¾ä¸Š</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>CQ_point<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>composite<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">,</span><span class="token string">"B2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"Simple Composite"</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>unmixedImage<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Unmixed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



å…‰è°±åˆ†ç¦»å¯ä»¥çœ‹åšä¸€ä¸ªè§£æ–¹ç¨‹çš„è¿‡ç¨‹ã€‚

	ç®€å•çš„æ¥è¯´ï¼Œå¯¹äº30mÃ—30m çš„åƒç´ æ¥è¯´ï¼Œå…¶å åœ°é¢ç§¯ä¸º<span class="token number">1.34</span>äº©ï¼Œåœ¨è¿™æ ·å¤§çš„é¢ç§¯ä¸Šï¼Œå¦‚æœæœ‰ä¸€åŠçš„æ°´å’Œä¸€åŠçš„ç»¿åœ°ï¼Œé‚£ä¹ˆç†è®ºä¸Šå®ƒçš„å…‰è°±é‡Œåº”è¯¥æœ‰ä¸€åŠæ¥è‡ªæ°´ï¼Œä¸€åŠæ¥è‡ªç»¿åœ°ã€‚
å¯¹åƒç´ æ±‚å–åœ°ç‰©å…‰è°±çš„æ¯”ä¾‹çš„è¿‡ç¨‹å°±æ˜¯å…‰è°±åˆ†ç¦»ï¼Œå…¶æ¦‚å¿µæ–¹ç¨‹å¦‚ä¸‹ï¼š
                       åƒç´  Ã— æ¯”ä¾‹ <span class="token operator">=</span> ç»ˆç«¯åƒå…ƒ
	å…¶ä¸­ï¼Œç»ˆç«¯åƒå…ƒæ˜¯å·²çŸ¥çš„ï¼Œåƒç´ åœ¨å›¾åƒçš„ä¸åŒä½ç½®æœ‰ç€ä¸åŒçš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ±‚å‡º
ä¸åŒä½ç½®ä¸Šä¸åŒåœ°ç‰©çš„å…‰è°±æ¯”ä¾‹

	æœ¬ä¾‹ä¸­å°†åœ°ç‰©åˆ†æˆäº†â€œå»ºè®¾ç”¨åœ°â€ï¼Œâ€œæ°´ä½“â€å’Œâ€œç»¿åœ°â€ä¸‰ç±»ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ±‚å‡ºä¸åŒä½ç½®è¿™ä¸‰ç§åœ°ç‰©çš„å…‰è°±æ¯”ä¾‹ã€‚
    
    é…åˆæ˜¾è‰²è®¾ç½®ï¼Œå›¾ä¸Šè¶Šçº¢çš„åœ°åŒºå»ºè®¾ç”¨åœ°çš„æ¯”ä¾‹å°±è¶Šå¤§ï¼Œè¶Šè“çš„åœ°åŒºæ°´ä½“çš„æ¯”ä¾‹è¶Šå¤§ï¼Œè¶Šç»¿çš„åœ°åŒºç»¿åœ°çš„æ¯”ä¾‹è¶Šå¤§ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3ã€å½’ä¸€åŒ–å·®å€¼è¿ç®—"><a href="#3ã€å½’ä¸€åŒ–å·®å€¼è¿ç®—" class="headerlink" title="3ã€å½’ä¸€åŒ–å·®å€¼è¿ç®—"></a>3ã€å½’ä¸€åŒ–å·®å€¼è¿ç®—</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> l8 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> l8_one <span class="token operator">=</span> l8<span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.705</span><span class="token punctuation">,</span> <span class="token number">31.881</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2016-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">'CLOUD_COVER'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›
<span class="token keyword">var</span> <span class="token constant">NDVI_1</span> <span class="token operator">=</span> l8_one<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">NDVI_2</span> <span class="token operator">=</span> l8_one<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">'(B4+B5)/(B4-B5)'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
    <span class="token string-property property">'B5'</span><span class="token operator">:</span> l8_one<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B5'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">'B4'</span><span class="token operator">:</span> l8_one<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'B4'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">NDVI_1</span><span class="token punctuation">,</span><span class="token constant">NDVI_2</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">NDVI_1</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token string-property property">"min"</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token string-property property">"max"</span><span class="token operator">:</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token string-property property">"palette"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"0f0bff"</span><span class="token punctuation">,</span><span class="token string">"ff3305"</span><span class="token punctuation">,</span><span class="token string">"fbff1b"</span><span class="token punctuation">,</span><span class="token string">"0bff1e"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

é€šè¿‡å°†<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> ä¸ <span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">'(B4+B5)/(B4-B5)'</span><span class="token punctuation">)</span><span class="token function">å¯¹æ¯”å¯ä»¥å‘ç°ï¼Œå½’ä¸€åŒ–å·®å€¼è®¡ç®—æœ¬è´¨ä¸Šæ˜¯å°†ä¸¤ä¸ªå‚æ•°è¿›è¡Œå›ºå®šæ•°å­¦è¿ç®—çš„å‘½ä»¤æ¨¡æ¿ï¼Œå³â€œ</span><span class="token punctuation">(</span>å‰<span class="token operator">+</span>
å<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>å‰<span class="token operator">-</span>å<span class="token punctuation">)</span>â€ã€‚å› æ­¤å¯ä»¥åˆç†è¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œä»¥è®¡ç®—<span class="token constant">NDVI</span> æˆ–è€…<span class="token constant">NDWI</span> ç­‰å½’ä¸€åŒ–å‚æ•°ï¼Œä»¥æ
é«˜æ•ˆç‡ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="4ã€äº‘é‡æŒ‡æ•°è®¡ç®—"><a href="#4ã€äº‘é‡æŒ‡æ•°è®¡ç®—" class="headerlink" title="4ã€äº‘é‡æŒ‡æ•°è®¡ç®—"></a>4ã€äº‘é‡æŒ‡æ•°è®¡ç®—</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> l8_TOA <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1_TOA"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.2608</span><span class="token punctuation">,</span> <span class="token number">29.5755</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Cloud_Rate <span class="token operator">=</span> ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span>Landsat<span class="token punctuation">.</span><span class="token function">simpleCloudScore</span><span class="token punctuation">(</span>l8_TOA<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Cloud_Rate<span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.14</span><span class="token punctuation">,</span> <span class="token number">30.3488</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Cloud_Rate<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">,</span><span class="token string">'B3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Cloud_Rate<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'cloud'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="5ã€å»äº‘åˆæˆ"><a href="#5ã€å»äº‘åˆæˆ" class="headerlink" title="5ã€å»äº‘åˆæˆ"></a>5ã€å»äº‘åˆæˆ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">L8_RAW</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">106.1125</span><span class="token punctuation">,</span> <span class="token number">30.3772</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2018-01-01'</span><span class="token punctuation">,</span><span class="token string">'2018-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> L8_Siple_Composite <span class="token operator">=</span>
ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span>Landsat<span class="token punctuation">.</span><span class="token function">simpleComposite</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">collection</span><span class="token operator">:</span><span class="token constant">L8_RAW</span><span class="token punctuation">,</span><span class="token literal-property property">asFloat</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">L8_RAW</span><span class="token punctuation">,</span>L8_Siple_Composite<span class="token punctuation">)</span><span class="token punctuation">;</span>

Map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token number">106.1125</span><span class="token punctuation">,</span> <span class="token number">30.3772</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>L8_Siple_Composite<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'B5'</span><span class="token punctuation">,</span><span class="token string">'B4'</span><span class="token punctuation">,</span><span class="token string">'B3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="äº”ã€ç²¾åº¦è´¨é‡è¯„ä»·"><a href="#äº”ã€ç²¾åº¦è´¨é‡è¯„ä»·" class="headerlink" title="äº”ã€ç²¾åº¦è´¨é‡è¯„ä»·"></a>äº”ã€ç²¾åº¦è´¨é‡è¯„ä»·</h2><h3 id="1ã€æ··æ·†çŸ©é˜µConfusion-Matrix"><a href="#1ã€æ··æ·†çŸ©é˜µConfusion-Matrix" class="headerlink" title="1ã€æ··æ·†çŸ©é˜µConfusion Matrix"></a>1ã€æ··æ·†çŸ©é˜µConfusion Matrix</h3><p>æ··æ·†çŸ©é˜µå¸¸ç”¨äºåˆ†ç±»å›¾åƒçš„åˆ†ç±»è´¨é‡éªŒè¯ï¼Œæœ¬èŠ‚ä»¥ä¸‹è¾¹çš„çŸ©é˜µä¸ºä¾‹å¯¹æ··æ·†çŸ©é˜µè¿›è¡Œä»‹ç»ã€‚</p>
<table>
<thead>
<tr>
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1817491</td>
<td>1038523</td>
<td>5543</td>
<td>240068</td>
<td>1240</td>
</tr>
<tr>
<td>1</td>
<td>1016690</td>
<td>2838574</td>
<td>745</td>
<td>137438</td>
<td>330</td>
</tr>
<tr>
<td>2</td>
<td>12611</td>
<td>2055</td>
<td>115033</td>
<td>142</td>
<td>84</td>
</tr>
<tr>
<td>3</td>
<td>150432</td>
<td>228089</td>
<td>24</td>
<td>94365</td>
<td>78</td>
</tr>
<tr>
<td>4</td>
<td>5104</td>
<td>2466</td>
<td>745</td>
<td>283</td>
<td>50583</td>
</tr>
</tbody></table>
<p>æ··æ·†çŸ©é˜µçš„åˆ›å»º</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_Transform <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1817491</span><span class="token punctuation">,</span><span class="token number">1016690</span><span class="token punctuation">,</span><span class="token number">12611</span> <span class="token punctuation">,</span><span class="token number">150432</span><span class="token punctuation">,</span><span class="token number">5104</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">1038523</span><span class="token punctuation">,</span><span class="token number">2838574</span><span class="token punctuation">,</span><span class="token number">2055</span> <span class="token punctuation">,</span><span class="token number">228089</span><span class="token punctuation">,</span><span class="token number">2466</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">5543</span> <span class="token punctuation">,</span><span class="token number">745</span> <span class="token punctuation">,</span><span class="token number">115033</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token punctuation">,</span><span class="token number">745</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">240068</span> <span class="token punctuation">,</span><span class="token number">137438</span> <span class="token punctuation">,</span><span class="token number">142</span> <span class="token punctuation">,</span><span class="token number">94365</span> <span class="token punctuation">,</span><span class="token number">283</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">1240</span> <span class="token punctuation">,</span><span class="token number">330</span> <span class="token punctuation">,</span><span class="token number">84</span> <span class="token punctuation">,</span><span class="token number">78</span> <span class="token punctuation">,</span><span class="token number">50583</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Confusion_Matrix <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ConfusionMatrix</span><span class="token punctuation">(</span> Array_Transform <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span> Confusion_Matrix <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>æ··æ·†çŸ©é˜µè´¨é‡ç»“æœè®¡ç®—</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Array_Transform <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1817491</span><span class="token punctuation">,</span><span class="token number">1016690</span><span class="token punctuation">,</span><span class="token number">12611</span> <span class="token punctuation">,</span><span class="token number">150432</span><span class="token punctuation">,</span><span class="token number">5104</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">1038523</span><span class="token punctuation">,</span><span class="token number">2838574</span><span class="token punctuation">,</span><span class="token number">2055</span> <span class="token punctuation">,</span><span class="token number">228089</span><span class="token punctuation">,</span><span class="token number">2466</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">5543</span> <span class="token punctuation">,</span><span class="token number">745</span> <span class="token punctuation">,</span><span class="token number">115033</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token punctuation">,</span><span class="token number">745</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">240068</span> <span class="token punctuation">,</span><span class="token number">137438</span> <span class="token punctuation">,</span><span class="token number">142</span> <span class="token punctuation">,</span><span class="token number">94365</span> <span class="token punctuation">,</span><span class="token number">283</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token punctuation">[</span><span class="token number">1240</span> <span class="token punctuation">,</span><span class="token number">330</span> <span class="token punctuation">,</span><span class="token number">84</span> <span class="token punctuation">,</span><span class="token number">78</span> <span class="token punctuation">,</span><span class="token number">50583</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Confusion_Matrix <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ConfusionMatrix</span><span class="token punctuation">(</span> Array_Transform <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Matrix_Kappa <span class="token operator">=</span> Confusion_Matrix<span class="token punctuation">.</span><span class="token function">kappa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å¡å¸•ç³»æ•°</span>
<span class="token keyword">var</span> Matrix_Accuracy <span class="token operator">=</span> Confusion_Matrix<span class="token punctuation">.</span><span class="token function">accuracy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç²¾åº¦</span>
<span class="token keyword">var</span> Matrix_ProducersAccuracy <span class="token operator">=</span> Confusion_Matrix<span class="token punctuation">.</span><span class="token function">producersAccuracy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç”Ÿäº§è€…ç²¾åº¦</span>
<span class="token keyword">var</span> Matrix_ConsumersAccuracy <span class="token operator">=</span> Confusion_Matrix<span class="token punctuation">.</span><span class="token function">consumersAccuracy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Matrix_Order <span class="token operator">=</span> Confusion_Matrix<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>Matrix_Kappa<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Matrix_Accuracy <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Matrix_ProducersAccuracy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Matrix_ConsumersAccuracy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Matrix_Order<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="å…­ã€å†…ç½®å‡½æ•°æ“ä½œ"><a href="#å…­ã€å†…ç½®å‡½æ•°æ“ä½œ" class="headerlink" title="å…­ã€å†…ç½®å‡½æ•°æ“ä½œ"></a>å…­ã€å†…ç½®å‡½æ•°æ“ä½œ</h2><h3 id="1ã€Filter"><a href="#1ã€Filter" class="headerlink" title="1ã€Filter"></a>1ã€Filter</h3><p>â€‹		ç­›é€‰å’Œè¿æ¥æœ¬è´¨ä¸Šå±äºâ€œå±æ€§æ“ä½œâ€ï¼Œåœ¨GEE ä¸­ç­›é€‰å’Œè¿æ¥ä»¥â€œç­›é€‰å™¨â€å’Œâ€œè¿æ¥å™¨â€çš„æ–¹<br>å¼å­˜åœ¨ã€‚é€šè¿‡æœ¬èŠ‚çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å¯ä»¥æŒæ¡é€šè¿‡ç­›é€‰è·å¾—ç›®æ ‡æ•°æ®ï¼Œä»¥åŠåˆ©ç”¨è¿æ¥æ¥ç»“åˆå¤šæº<br>æ•°æ®ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Name_CQ_Filter <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Chong_Qing'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token constant">CQ</span> <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Name_CQ_Filter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> CQ_Area <span class="token operator">=</span> <span class="token constant">CQ</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Smaller_Than_CQ_Filter <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token string">'Shape_Area'</span><span class="token punctuation">,</span>CQ_Area<span class="token punctuation">)</span>

<span class="token keyword">var</span> Smaller_Than_CQ_Provinces <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Smaller_Than_CQ_Filter<span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Smaller_Than_CQ_Provinces<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>Smaller_Than_CQ_Provinces<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>å±æ€§æ¡ä»¶ç­›é€‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Start_Shan <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">stringStartsWith</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Shan'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> End_Nan <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">stringEndsWith</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Nan'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Congtain_Bei <span class="token operator">=</span> ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">stringContains</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'Bei'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Provinces_Start_Shan <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Start_Shan<span class="token punctuation">)</span>

<span class="token keyword">var</span> Provinces_End_Nan <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>End_Nan<span class="token punctuation">)</span>

<span class="token keyword">var</span> Provinces_Congtain_Bei <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Congtain_Bei<span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>China_Provinces<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Provinces_Start_Shan<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'00ffff'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Provinces_End_Nan<span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'ff0000'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Provinces_Congtain_Bei<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="2ã€Reducer"><a href="#2ã€Reducer" class="headerlink" title="2ã€Reducer"></a>2ã€Reducer</h3><p>â€‹		Reducer çš„ä¸­æ–‡å«ä¹‰æ˜¯â€œç¼©å‡å™¨ï¼Œå‡å‹å™¨â€ã€‚ä¸ç­›é€‰Filter ç›¸æ¯”ï¼ŒReducer è™½ç„¶ä¹Ÿæœ‰â€œå‡å°‘â€çš„æ„æ€ï¼Œä½†å…¶æ›´å¤šçš„å«ä¹‰åœ¨äºâ€œé€šè¿‡åˆ†æåè·å¾—ç»Ÿè®¡ä¿¡æ¯â€ä¸Šã€‚æ¯”å¦‚æœ‰100 ä¸ªè‹¹æœï¼ŒFilter å¤„ç†ååªå‰©ä¸‹80 ä¸ªï¼Œè€ŒReducer å¤„ç†åå¾—åˆ™å¯ä»¥åˆ°â€œå¹³å‡é‡é‡â€ã€‚</p>
<p>æ€»ä¹‹ï¼ŒFilter ç€é‡äºæ•°é‡ä¸Šçš„å‡å°‘ï¼Œè€ŒReducer å¼ºè°ƒæ•°å­¦æŠ½è±¡çš„æ±‡æ€»ã€‚</p>
<p>(å¯ä»¥ç†è§£ä¸ºç»Ÿè®¡ï¼Œreduceråé¢å¯åŠ éœ€è¦ç»Ÿè®¡çš„æ“ä½œ)</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> China_Provinces <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Reducer_Count <span class="token operator">=</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Reducer_CountEvery <span class="token operator">=</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">countEvery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Reducer_First <span class="token operator">=</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Provinces_Number_1 <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>Reducer_Count<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'NAME'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Provinces_Number_2 <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>Reducer_CountEvery<span class="token punctuation">,</span><span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Provinces_First <span class="token operator">=</span> China_Provinces<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>Reducer_First<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'NAME'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Reducer_Count'</span><span class="token punctuation">,</span>Provinces_Number_1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Reducer_CountEvery'</span><span class="token punctuation">,</span>Provinces_Number_2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Reducer_First'</span><span class="token punctuation">,</span>Provinces_First<span class="token punctuation">)</span>


è¿™é‡Œéœ€è¦å¼ºè°ƒee<span class="token punctuation">.</span><span class="token function">Reducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å‘½ä»¤åˆ›å»ºçš„æ˜¯ä¸€ä¸ªâ€œåè¯â€ï¼Œå…¶å‘æŒ¥ä½œç”¨åªèƒ½åœ¨äºå…¶ä»–â€œåŠ¨è¯â€
é…åˆçš„å‰æä¸‹æ‰èƒ½å®Œæˆï¼Œæœ¬ä¾‹ä¸­çš„åŠ¨è¯æ˜¯<span class="token punctuation">.</span><span class="token function">reducerColumns</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œåˆ—ç»Ÿè®¡â€ã€‚
æ­¤å¤–è¦æ³¨æ„<span class="token punctuation">.</span>count å’Œ <span class="token punctuation">.</span>countEvery çš„åŒºåˆ«ã€‚<span class="token punctuation">.</span>count <span class="token function">æ˜¯è®¡ç®—æŒ‡å®šåˆ—çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®ç¼ºå¤±åˆ™ä¸è¿›è¡Œæ•°é‡ç»Ÿè®¡</span><span class="token punctuation">(</span>ä¾‹å¦‚æŸæ•°æ®ä¸å­˜åœ¨â€œ<span class="token constant">NAME</span>â€å±æ€§<span class="token punctuation">)</span>ï¼Œè€Œ<span class="token punctuation">.</span>countEvery åˆ™æ˜¯ç»Ÿè®¡æ‰€æœ‰æ•°æ®ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<p>çº¿æ€§æ‹Ÿåˆ</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> Data_X <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">72</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">130</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Data_Y <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">var</span> Fig <span class="token operator">=</span> ui<span class="token punctuation">.</span>Chart<span class="token punctuation">.</span>array<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>Data_X<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Data_Y<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>Fig<span class="token punctuation">)</span>

<span class="token keyword">var</span> Data_x <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">72</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">130</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Data_y <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Linear_Reducer <span class="token operator">=</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">linearFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Fited <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Data_x<span class="token punctuation">,</span>Data_y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>Linear_Reducer<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Fited<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="3ã€Kernel"><a href="#3ã€Kernel" class="headerlink" title="3ã€Kernel"></a>3ã€Kernel</h3><p>é”åŒ–å·ç§¯</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">CQ</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Chong_Qing'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> DEM_Roberts <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">roberts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ç½—ä¼¯ç‰¹æ¢¯åº¦</span>
<span class="token keyword">var</span> DEM_Prewitt <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">prewitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//prewittæ¢¯åº¦</span>
<span class="token keyword">var</span> DEM_Sobel <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">sobel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ç´¢ä¼¯å°”æ¢¯åº¦</span>
<span class="token keyword">var</span> DEM_Compass <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">compass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> DEM_Kirsch <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">kirsch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>

Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Roberts <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Roberts'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Prewitt <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">270</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">270</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Prewitt'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Sobel <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">370</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">370</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Sobel'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Compass <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">300</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Compass'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Kirsch <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1100</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">1100</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Kirsch'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<p>*é’åŒ–å·ç§¯</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">CQ</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">"users/wangjinzhulala/China_Provinces"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">filterMetadata</span><span class="token punctuation">(</span><span class="token string">'NAME'</span><span class="token punctuation">,</span><span class="token string">'equals'</span><span class="token punctuation">,</span><span class="token string">'Chong_Qing'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token constant">DEM</span> <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"USGS/SRTMGL1_003"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DEM_Euclidean <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">euclidean</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'pixels'</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> DEM_Gaussian <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">gaussian</span><span class="token punctuation">(</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token string">'pixels'</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> DEM_Manhattan <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">manhattan</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'pixels'</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> DEM_Chebyshev <span class="token operator">=</span> <span class="token constant">DEM</span><span class="token punctuation">.</span><span class="token function">convolve</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Kernel<span class="token punctuation">.</span><span class="token function">chebyshev</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'pixels'</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span><span class="token constant">CQ</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token constant">DEM</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Euclidean <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">281</span> <span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">681</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Euclidean'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Gaussian <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">358</span> <span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">898</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Gaussian'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Manhattan <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">287</span> <span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">630</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Manhattan'</span><span class="token punctuation">)</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>DEM_Chebyshev <span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">285</span> <span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">630</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'DEM_Chebyshev'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="QAæ³¢æ®µå»äº‘"><a href="#QAæ³¢æ®µå»äº‘" class="headerlink" title="QAæ³¢æ®µå»äº‘"></a>QAæ³¢æ®µå»äº‘</h3><p>QA(data product <strong>quality assessment</strong>)æ˜¯<strong>æ•°æ®è´¨é‡è¯„ä¼°æ³¢æ®µ</strong>çš„ç®€ç§°ï¼Œåœ¨ä¸åŒçš„äº§å“ä¸­æœ‰ä¸åŒçš„åç§°ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> s2 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"COPERNICUS/S2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    point <span class="token operator">=</span> <span class="token comment">/* color: #98ff00 */</span>ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">116.20553071765003</span><span class="token punctuation">,</span> <span class="token number">39.404020061278715</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">/** 
* 
* remove cloud by QA bands 
* 
* */</span> 
<span class="token keyword">function</span> <span class="token function">rmCloudByQA</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token comment">//æ ¹æ®ä¸åŒç±»å‹çš„å½±åƒé€‰æ‹©è´¨é‡æ³¢æ®µ</span>
  <span class="token keyword">var</span> qa <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'QA60'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> cloudBitMask <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> cirrusBitMask <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">11</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> mask <span class="token operator">=</span> qa<span class="token punctuation">.</span><span class="token function">bitwiseAnd</span><span class="token punctuation">(</span>cloudBitMask<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> 
               <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>qa<span class="token punctuation">.</span><span class="token function">bitwiseAnd</span><span class="token punctuation">(</span>cirrusBitMask<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 


<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token keyword">var</span> startDate <span class="token operator">=</span> <span class="token string">"2019-4-4"</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> endDate <span class="token operator">=</span> <span class="token string">"2019-4-8"</span><span class="token punctuation">;</span> 
  Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> s2Imgs <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>startDate<span class="token punctuation">,</span> endDate<span class="token punctuation">)</span> 
                 <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>s2Imgs<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B4"</span><span class="token punctuation">,</span> <span class="token string">"B3"</span><span class="token punctuation">,</span> <span class="token string">"B2"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"raw"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  s2Imgs <span class="token operator">=</span> s2Imgs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>rmCloudByQA<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>s2Imgs<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token literal-property property">bands</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"B4"</span><span class="token punctuation">,</span> <span class="token string">"B3"</span><span class="token punctuation">,</span> <span class="token string">"B2"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"cloud"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 


<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

image<span class="token punctuation">.</span><span class="token function">mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œä¼šå°†å½±åƒçš„æ©è†œåŒºåŸŸä¸éæ©è†œåŒºåŸŸç”¨<span class="token number">0</span>å’Œ<span class="token number">1</span>åŒºåˆ†å¼€æ¥ï¼Œå…¶ä¸­<span class="token number">1</span>ä»£è¡¨ä¸ºæ©è†œï¼Œ<span class="token number">0</span>ä»£è¡¨æœªæ©è†œã€‚å½±åƒçš„è¾¹æ¡†èŒƒå›´å†…ï¼Œé»‘è‰²ä»£è¡¨å·²è¢«æ©è†œçš„åŒºåŸŸï¼Œç™½è‰²ä»£è¡¨æœªæ©è†œåŒºåŸŸã€‚
image<span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼ŒupdateMaskä¼šå°†å½±åƒä¸Šä¸º<span class="token number">0</span>çš„åŒºåŸŸæ©è†œæ‰ï¼Œå¦‚æœä½ å¸Œæœ›æŸä¸€æ™¯å½±åƒä¸å¦ä¸€æ™¯å½±åƒå…·æœ‰ç›¸åŒçš„æ©è†œï¼Œå¯ä»¥ä½¿ç”¨image2<span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span>image1<span class="token punctuation">.</span><span class="token function">mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ã€‚

updaeMaskï¼ˆï¼‰å¯ä»¥ç®€å•ç†è§£ä¸ºä¿ç•™æ‹¬å·å†…çš„åŒºåŸŸï¼Œå¹¶ä¸”è¦æ³¨æ„æ˜¯åœ¨ç°æœ‰å›¾åƒæ©ç ä¸ä¸ºé›¶çš„åŒºåŸŸè¿›è¡Œå¤„ç†ã€‚

ä¾‹å¦‚ä½¿ç”¨<span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span>ï¼š
é¦–å…ˆï¼Œè¦ä¸æŠ¥é”™éœ€è¦æ»¡è¶³<span class="token constant">B</span>è¦ä¹ˆåªæœ‰ä¸€ä¸ªæ³¢æ®µå€¼ï¼Œè¦ä¹ˆå°±å’Œ<span class="token constant">A</span>æœ‰ç›¸åŒçš„æ•°é‡çš„æ³¢æ®µã€‚
ç„¶åå¹³å°ä¼šåªå¯¹<span class="token constant">A</span>æ©ç ä¸ä¸º<span class="token number">0</span>çš„åŒºåŸŸå¤„ç†ï¼Œå¯¹äº<span class="token constant">A</span>æ©ç ä¸º<span class="token number">0</span>è€Œ<span class="token constant">B</span>æœ‰æ•ˆçš„åŒºåŸŸä¸å¤„ç†ï¼Œå³æ©ç ä»ä¸º<span class="token number">0</span>ï¼Œ<span class="token number">0</span>ä»£è¡¨æ— æ•ˆï¼Œ<span class="token number">1</span>ä»£è¡¨æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯å–<span class="token constant">AB</span>äº¤é›†ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="å½±åƒç›´æ–¹å›¾åŒ¹é…"><a href="#å½±åƒç›´æ–¹å›¾åŒ¹é…" class="headerlink" title="å½±åƒç›´æ–¹å›¾åŒ¹é…"></a>å½±åƒç›´æ–¹å›¾åŒ¹é…</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//å»äº‘ </span>
<span class="token keyword">function</span> <span class="token function">rmCloud</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token keyword">var</span> qa <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'QA_PIXEL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> mask <span class="token operator">=</span> qa<span class="token punctuation">.</span><span class="token function">bitwiseAnd</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>qa<span class="token punctuation">.</span><span class="token function">bitwiseAnd</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 


<span class="token comment">//ç¼©æ”¾å½±åƒå€¼ </span>
<span class="token keyword">function</span> <span class="token function">scaleImage</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token keyword">var</span> time_start <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"system:time_start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  image <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'SR_B4'</span><span class="token punctuation">,</span> <span class="token string">'SR_B3'</span><span class="token punctuation">,</span> <span class="token string">'SR_B2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
               <span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0000275</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">return</span> image<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"system:time_start"</span><span class="token punctuation">,</span> time_start<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 


<span class="token comment">//ç ”ç©¶åŒºåŸŸ </span>
<span class="token keyword">var</span> roi <span class="token operator">=</span> ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span> 
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">119.77658497404211</span><span class="token punctuation">,</span> <span class="token number">30.542135717928037</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
          <span class="token punctuation">[</span><span class="token number">119.77658497404211</span><span class="token punctuation">,</span> <span class="token number">29.991792284424644</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
          <span class="token punctuation">[</span><span class="token number">120.62253223966711</span><span class="token punctuation">,</span> <span class="token number">29.991792284424644</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
          <span class="token punctuation">[</span><span class="token number">120.62253223966711</span><span class="token punctuation">,</span> <span class="token number">30.542135717928037</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//é«˜åˆ†è¾¨ç‡å½±åƒ </span>
<span class="token keyword">var</span> planetImage <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"users/wangweihappy0/20200906_022218_1008_3B_AnalyticMS"</span><span class="token punctuation">)</span> 
                    <span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span> 
                    <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"b3"</span><span class="token punctuation">,</span> <span class="token string">"b2"</span><span class="token punctuation">,</span> <span class="token string">"b1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">//landsat8 C2æ•°æ®ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯landsat8 C1çš„æ•°æ®å·²ç»è¦è¢«åºŸå¼ƒï¼Œä»¥åä½¿ç”¨C2æ•°æ® </span>
<span class="token keyword">var</span> landsatImg <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C02/T1_L2"</span><span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">"2020-8-1"</span><span class="token punctuation">,</span> <span class="token string">"2020-11-1"</span><span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>rmCloud<span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>scaleImage<span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                  <span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span><span class="token punctuation">;</span> 
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>roi<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>roi<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">"red"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"roi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>landsatImg<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"landsatImage"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>planetImage<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">bands</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">0.8</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"planetImage"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">//å±•ç¤ºç›´æ–¹å›¾ </span>
<span class="token keyword">function</span> <span class="token function">showHistogram</span><span class="token punctuation">(</span><span class="token parameter">image<span class="token punctuation">,</span> roi<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span> 
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ³¢æ®µç›´æ–¹å›¾:'</span><span class="token operator">+</span>name<span class="token punctuation">,</span> 
    <span class="token literal-property property">hAxis</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'DN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">vAxis</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ•°é‡'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> 
      <span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 
      <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 
      <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span><span class="token punctuation">&#125;</span> 
    <span class="token punctuation">&#125;</span> 
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> 
 
  <span class="token keyword">var</span> histogram <span class="token operator">=</span> ui<span class="token punctuation">.</span>Chart<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">histogram</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> 
    <span class="token literal-property property">image</span><span class="token operator">:</span> image<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"G"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">region</span><span class="token operator">:</span> roi<span class="token punctuation">,</span> 
    <span class="token literal-property property">maxBuckets</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span> 
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSeriesNames</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"redBand"</span><span class="token punctuation">,</span> <span class="token string">"greenBand"</span><span class="token punctuation">,</span> <span class="token string">"blueBand"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
  <span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token function">print</span><span class="token punctuation">(</span>histogram<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 
<span class="token comment">//å±•ç¤ºä¸¤å¼ å½±åƒç›´æ–¹å›¾ </span>
<span class="token function">showHistogram</span><span class="token punctuation">(</span>landsatImg<span class="token punctuation">,</span> planetImage<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"åŸå§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">showHistogram</span><span class="token punctuation">(</span>planetImage<span class="token punctuation">,</span> planetImage<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"ç›®æ ‡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">//å¯»æ‰¾åŸå§‹å½±åƒæ•°æ®åˆ—è¡¨å’Œç›®æ ‡å½±åƒæ•°æ®åˆ—è¡¨å¯¹åº”çš„å€¼ </span>
<span class="token keyword">function</span> <span class="token function">lookup</span><span class="token punctuation">(</span><span class="token parameter">sourceHist<span class="token punctuation">,</span> targetHist</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token comment">//ç¬¬ä¸€åˆ—æ•°æ®æ˜¯åŸå§‹å€¼ï¼Œç¬¬äºŒåˆ—æ˜¯ç»Ÿè®¡çš„ç´¯ç§¯æ•°é‡ </span>
  <span class="token keyword">var</span> sourceValues <span class="token operator">=</span> sourceHist<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> sourceCounts <span class="token operator">=</span> sourceHist<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  sourceCounts <span class="token operator">=</span> sourceCounts<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>sourceCounts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
  <span class="token keyword">var</span> targetValues <span class="token operator">=</span> targetHist<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> targetCounts <span class="token operator">=</span> targetHist<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  targetCounts <span class="token operator">=</span> targetCounts<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>targetCounts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
  <span class="token comment">//éå†åŸå§‹æ•°æ®å€¼ï¼ŒæŸ¥æ‰¾å¤§äºè¿™ä¸ªå€¼çš„æœ€å¤§ç´¢å¼•ï¼Œç„¶åè¿”å›å¯¹åº”çš„æ•°æ® </span>
  <span class="token keyword">var</span> yValues <span class="token operator">=</span> sourceCounts<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
    <span class="token keyword">var</span> index <span class="token operator">=</span> targetCounts<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">argmax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> targetValues<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> sourceValues<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> yValues<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 


<span class="token comment">//ç›´æ–¹å›¾åŒ¹é… </span>
<span class="token keyword">function</span> <span class="token function">histogramMatching</span><span class="token punctuation">(</span><span class="token parameter">sourceImg<span class="token punctuation">,</span> targetImg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
  <span class="token keyword">var</span> geom <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">&#123;</span> 
    <span class="token literal-property property">reducer</span><span class="token operator">:</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">autoHistogram</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">maxBuckets</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token literal-property property">cumulative</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">geometry</span><span class="token operator">:</span> geom<span class="token punctuation">,</span> 
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">tileScale</span><span class="token operator">:</span> <span class="token number">16</span> 
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> source <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span><span class="token function">reduceRegion</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> target <span class="token operator">=</span> targetImg<span class="token punctuation">.</span><span class="token function">updateMask</span><span class="token punctuation">(</span>sourceImg<span class="token punctuation">.</span><span class="token function">mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
                        <span class="token punctuation">.</span><span class="token function">reduceRegion</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token comment">//ä½¿ç”¨æ’å€¼ç”Ÿæˆå¯¹åº”çš„æ•°æ® </span>
  <span class="token keyword">var</span> red <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token function">lookup</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'R'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'R'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> green <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'G'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token function">lookup</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'G'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'G'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> blue <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token function">lookup</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token comment">//ç”ŸæˆRGBå›¾åƒ </span>
  <span class="token keyword">return</span> ee<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token function">cat</span><span class="token punctuation">(</span>red<span class="token punctuation">,</span>green<span class="token punctuation">,</span> blue<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">histogramMatching</span><span class="token punctuation">(</span>planetImage<span class="token punctuation">,</span> landsatImg<span class="token punctuation">)</span><span class="token punctuation">;</span> 
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token literal-property property">bands</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>









<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>â€‹		å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šåå¤å®Œæˆç›¸åŒæˆ–ç±»ä¼¼çš„ä»»åŠ¡ï¼Œä¸ºäº†é¿å…å¤šæ¬¡é‡å¤ç¼–å†™ç›¸åŒçš„ä»£ç æ®µï¼ŒJavaScriptæŠŠéƒ¨åˆ†ä»£ç åŒ…è£…åœ¨èƒ½å¤Ÿé‡å¤ä½¿ç”¨çš„æ¨¡å—ï¼Œç§°ä¸ºå‡½æ•°ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello!!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è±¡å‡½æ•°ä¼ é€’æ•°æ®æ¥å¤§å¤§åœ°æ‰©å±•å‡½æ•°çš„åŠŸèƒ½ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯åœ¨è°ƒç”¨å‡½æ•°æ—¶ç»™ä»–ä¼ é€’ä¸€ä¸ªæˆ–å¤šä¸ªâ€œå‚æ•°â€ï¼Œå‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡åªåœ¨å‡½æ•°å†…éƒ¨æœ‰æ•ˆ</span>
<span class="token keyword">function</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//å‡½æ•°è¿˜å¯ä»¥è®¾ç½®è¿”å›å€¼ç”¨äºè¾“å‡ºç»“æœ</span>
<span class="token keyword">function</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> c<span class="token operator">=</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span>
	<span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//å‡½æ•°å£°æ˜åï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨</span>
<span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum<span class="token operator">=</span><span class="token function">time</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="ä¸ƒã€ç®€å•åº”ç”¨"><a href="#ä¸ƒã€ç®€å•åº”ç”¨" class="headerlink" title="ä¸ƒã€ç®€å•åº”ç”¨"></a>ä¸ƒã€ç®€å•åº”ç”¨</h2><h3 id="æ„å»ºå‡½æ•°åº“ï¼š"><a href="#æ„å»ºå‡½æ•°åº“ï¼š" class="headerlink" title="æ„å»ºå‡½æ•°åº“ï¼š"></a>æ„å»ºå‡½æ•°åº“ï¼š</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//ä¾‹å¦‚æ„å»ºè®¡ç®—ndviå’ŒndwiæŒ‡æ•°çš„å‡½æ•°åº“</span>
<span class="token keyword">var</span> indexes <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

indexes<span class="token punctuation">.</span><span class="token function-variable function">cal_ndvi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> ndvi <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"B8"</span><span class="token punctuation">,</span><span class="token string">"B4"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> date <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              
  <span class="token keyword">return</span> ndvi<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>


indexes<span class="token punctuation">.</span><span class="token function-variable function">cal_ndwi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> ndwi <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">normalizedDifference</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'B3'</span><span class="token punctuation">,</span><span class="token string">'B8'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'NDWI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> date <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ndwi<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>


exports <span class="token operator">=</span> indexes<span class="token punctuation">;</span>


<span class="token comment">//è°ƒç”¨æ—¶åªéœ€åœ¨å¦ä¸€è„šæœ¬ä¸‹requireç›®æ ‡å‡½æ•°åº“çš„è·¯å¾„å³å¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>ee.join.saveAllï¼ˆmatchesKeyï¼Œorderingï¼Œascendingï¼ŒmeasureKeyï¼Œouterï¼‰</strong></p>
<p>â€‹		ä½œç”¨ï¼šè¿”å›ä¸€ä¸ªè¿æ¥ï¼Œè¯¥è¿æ¥å¯ä»¥å°†ç¬¬ä¸€ä¸ªé›†åˆå½“ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸ç¬¬äºŒä¸ªé›†åˆå½“ä¸­çš„ä¸€ç»„å…ƒç´ è¿›è¡ŒåŒ¹é…ã€‚åŒ¹é…åˆ—è¡¨ä½œä¸ºé™„åŠ å±æ€§ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸ªç»“æœä¸­ã€‚å¦‚æœæŒ‡å®šäº†measure Keyå‚æ•°ï¼Œé‚£ä¹ˆæ¯ä¸€ç»„åŒ¹é…é¡¹éƒ½é™„åŠ ä¸€ä¸ªè¿æ¥åº¦é‡å€¼ã€‚å½“withinDistanceæˆ–maxDifferenceç­›é€‰å™¨è¢«ç”¨ä½œè¿æ¥æ¡ä»¶æ—¶ï¼Œä¼šç”Ÿæˆè¿æ¥åº¦é‡å€¼ã€‚</p>
<p>è¿”å›å€¼ï¼šè¿æ¥ï¼ˆJoinï¼‰</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>ç±»å‹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>matchesKey</td>
<td>String</td>
<td>ç”¨äºä¿å­˜åŒ¹é…åˆ—è¡¨çš„å±æ€§åç§°ã€‚</td>
</tr>
<tr>
<td>ordering</td>
<td>String, default: null</td>
<td>å¯¹åŒ¹é…åˆ—è¡¨è¿›è¡Œæ’åºçš„å±æ€§ã€‚</td>
</tr>
<tr>
<td>ascending</td>
<td>Boolean, default: true</td>
<td>æ’åºï¼ˆorderingï¼‰æ˜¯å¦ä¸ºå‡åºã€‚</td>
</tr>
<tr>
<td>measureKey</td>
<td>String, default: null</td>
<td>ä¸€ä¸ªå¯é€‰çš„å±æ€§åç§°ï¼Œç”¨äºä¿å­˜æ¯ä¸ªåŒ¹é…é¡¹çš„è¿æ¥æ¡ä»¶çš„åº¦é‡ã€‚</td>
</tr>
<tr>
<td>outer</td>
<td>Boolean, default: false</td>
<td>å¦‚æœä¸ºçœŸï¼Œåˆ™ç»“æœå°†åŒ…å«æ²¡æœ‰åŒ¹é…çš„ä¸»è¡Œã€‚</td>
</tr>
</tbody></table>
<h3 id="GEEä¸­å†…å­˜æº¢å‡ºé—®é¢˜"><a href="#GEEä¸­å†…å­˜æº¢å‡ºé—®é¢˜" class="headerlink" title="GEEä¸­å†…å­˜æº¢å‡ºé—®é¢˜"></a>GEEä¸­å†…å­˜æº¢å‡ºé—®é¢˜</h3><p>â€‹		åœ¨ Google Earth Engineï¼ˆGEEï¼‰å¹³å°ä¸Šå¤„ç†å¤§å‹æ•°æ®é›†æ—¶ï¼ŒåŠ è½½æ•´ä¸ªæ•°æ®é›†å¯èƒ½å¯¼è‡´å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚åˆ†å—å¤„ç†å¯ä»¥å°†æ•°æ®åˆ’åˆ†ä¸ºå°å—ï¼Œé€å—å¤„ç†ï¼Œä»è€Œæœ‰æ•ˆé™ä½å†…å­˜å‹åŠ›ã€‚è¿™å¯¹äºå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ã€é¿å…ç³»ç»Ÿå´©æºƒå’Œæé«˜ç®—æ³•æ€§èƒ½è‡³å…³é‡è¦ã€‚é€šè¿‡åˆ†å—å¤„ç†ï¼Œä¼˜åŒ– GEE ä¸­å¯¹å¤§è§„æ¨¡æ•°æ®é›†çš„æ“ä½œï¼Œä»¥æé«˜æ•ˆç‡ã€é™ä½èµ„æºæ¶ˆè€—ã€‚</p>
<img src="https://img-blog.csdnimg.cn/direct/16868f3c1d5448c7a490f5e88432e674.png" alt="img" style="zoom:30%;" />

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®°å½•ç¨‹åºå¼€å§‹æ—¶é—´</span>
<span class="token keyword">var</span> startTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'ç¨‹åºå¼€å§‹æ—¶é—´'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> eevp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'users/949384116/lib:Tools/VectorProcessor'</span><span class="token punctuation">)</span><span class="token comment">//APIå‡½æ•°åº“</span>

<span class="token keyword">var</span> featureCollection <span class="token operator">=</span> eevp<span class="token punctuation">.</span><span class="token function">vecSplitByRowCol</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

featureCollection<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nSize</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// print('Feature Collection Size: ', nSize)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> smallVec <span class="token operator">=</span> eevp<span class="token punctuation">.</span><span class="token function">getSmallVec</span><span class="token punctuation">(</span>featureCollection<span class="token punctuation">,</span> i<span class="token punctuation">,</span> table<span class="token punctuation">.</span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>smallVec<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'Vec '</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¿™é‡Œå¯ä»¥ä½¿ç”¨åˆ†å—åçš„çŸ¢é‡æ•°æ®å»å¤„ç†è‡ªå®šä¹‰ä»£ç </span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®°å½•ç»“æŸæ—¶é—´</span>
<span class="token keyword">var</span> endTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'ç¨‹åºç»“æŸæ—¶é—´'</span><span class="token punctuation">,</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®¡ç®—æ‰§è¡Œæ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰</span>
<span class="token keyword">var</span> executionTimeMS <span class="token operator">=</span> endTime <span class="token operator">-</span> startTime<span class="token punctuation">;</span>
<span class="token keyword">var</span> executionTimeStringMS <span class="token operator">=</span> executionTimeMS<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' æ¯«ç§’'</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'ç¨‹åºæ‰§è¡Œæ—¶é—´: '</span> <span class="token operator">+</span> executionTimeStringMS<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="https://img.picgo.net/2024/08/08/_20240808122233aa8149b8e4c66964.jpg"></a><div class="post-copyright__author_name">éšé£</div><div class="post-copyright__author_desc"></div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">éšé£</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/GEE/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>GEE<span class="tagsPageCount">1</span></span></a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>ç®—æ³•<span class="tagsPageCount">1</span></span></a><a class="post-meta__tags" href="/tags/%E9%81%A5%E6%84%9F/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>é¥æ„Ÿ<span class="tagsPageCount">1</span></span></a><a class="post-meta__tags" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>äº‘è®¡ç®—<span class="tagsPageCount">1</span></span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/08/08/hello-world/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">æµ‹è¯•</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-bg-top"><div class="is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div></div><a class="card-info-avatar" href="/about/" title="å¤´åƒ"><div class="avatar-img"><img src="https://img.picgo.net/2024/08/08/_20240808122233aa8149b8e4c66964.jpg" alt="å¤´åƒ"></div></a><div class="card-info__desc_group"><div class="author-info__name">éšé£</div><div class="author-info__desc"></div><div class="card-info__data is-center"><a href="/archives/" title="ç´¯è®¡æ–‡ç« æ•°:2"><div class="length-num">2</div><div class="headline">æ–‡ç« </div></a><a href="/tags/" title="æ ‡ç­¾æ€»æ•°:5"><div class="length-num">5</div><div class="headline">æ ‡ç­¾</div></a><a href="/categories/" title="åˆ†ç±»æ€»æ•°:2"><div class="length-num">2</div><div class="headline">åˆ†ç±»</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/zhenc-cz" title="Github"><i class="solitude  fab fa-github"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/" title="Bilibili"><i class="solitude  fab fa-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude fa-solid fa-bars"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-text">å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">ä¸€ã€åŸºç¡€æ•°æ®ç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E7%AC%A6String"><span class="toc-text">1ã€å­—ç¬¦String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E5%AD%97Number"><span class="toc-text">2ã€æ•°å­—Number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%AD%97%E5%85%B8Dictionary"><span class="toc-text">3ã€å­—å…¸Dictionary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%88%97%E8%A1%A8List"><span class="toc-text">4ã€åˆ—è¡¨List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E7%9F%A9%E9%98%B5Array"><span class="toc-text">5ã€çŸ©é˜µArray</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81GEE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">äºŒã€GEEæ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Geometry"><span class="toc-text">1ã€Geometry</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Feature"><span class="toc-text">2ã€Feature</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81FeatureCollection"><span class="toc-text">3ã€FeatureCollection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Image"><span class="toc-text">3ã€Image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81ImageCollection"><span class="toc-text">4ã€ImageCollection</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="toc-text">ä¸‰ã€æ¡ˆä¾‹åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81NDWI%E8%AE%A1%E7%AE%97%E2%80%94-%E4%BB%A5Landsat8%E4%B8%BA%E4%BE%8B"><span class="toc-text">1ã€NDWIè®¡ç®—â€”-ä»¥Landsat8ä¸ºä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%A0%85%E6%A0%BC%E7%9A%84%E5%B1%B1%E4%BD%93%E9%98%B4%E5%BD%B1%E6%93%8D%E4%BD%9C-Map%E7%BB%84%E4%BB%B6"><span class="toc-text">2ã€æ …æ ¼çš„å±±ä½“é˜´å½±æ“ä½œ&#x2F; Mapç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%A0%85%E6%A0%BC%E5%A1%AB%E6%B4%BC%E6%93%8D%E4%BD%9C"><span class="toc-text">3ã€æ …æ ¼å¡«æ´¼æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%A0%85%E6%A0%BC%E7%9A%84%E5%8D%B7%E7%A7%AF%E6%93%8D%E4%BD%9C"><span class="toc-text">4ã€æ …æ ¼çš„å·ç§¯æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%A0%85%E6%A0%BC%E7%9A%84%E9%82%BB%E5%9F%9F%E7%BC%A9%E5%87%8F%E6%93%8D%E4%BD%9C"><span class="toc-text">5ã€æ …æ ¼çš„é‚»åŸŸç¼©å‡æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E6%A0%85%E6%A0%BC%E8%BD%AC%E7%9F%A2%E9%87%8F"><span class="toc-text">6ã€æ …æ ¼è½¬çŸ¢é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E6%A0%85%E6%A0%BC%E8%BE%93%E5%87%BA%E6%93%8D%E4%BD%9C"><span class="toc-text">7ã€æ …æ ¼è¾“å‡ºæ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81RGB%E7%BB%84%E5%90%88"><span class="toc-text">8ã€RGBç»„åˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Landsat-Images"><span class="toc-text">å››ã€Landsat Images</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81qualityMosaic-%E5%91%BD%E4%BB%A4"><span class="toc-text">1ã€qualityMosaic å‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%85%89%E8%B0%B1%E5%88%86%E7%A6%BB%E5%91%BD%E4%BB%A4"><span class="toc-text">2ã€å…‰è°±åˆ†ç¦»å‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%BD%92%E4%B8%80%E5%8C%96%E5%B7%AE%E5%80%BC%E8%BF%90%E7%AE%97"><span class="toc-text">3ã€å½’ä¸€åŒ–å·®å€¼è¿ç®—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E4%BA%91%E9%87%8F%E6%8C%87%E6%95%B0%E8%AE%A1%E7%AE%97"><span class="toc-text">4ã€äº‘é‡æŒ‡æ•°è®¡ç®—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%8E%BB%E4%BA%91%E5%90%88%E6%88%90"><span class="toc-text">5ã€å»äº‘åˆæˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%B2%BE%E5%BA%A6%E8%B4%A8%E9%87%8F%E8%AF%84%E4%BB%B7"><span class="toc-text">äº”ã€ç²¾åº¦è´¨é‡è¯„ä»·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5Confusion-Matrix"><span class="toc-text">1ã€æ··æ·†çŸ©é˜µConfusion Matrix</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C"><span class="toc-text">å…­ã€å†…ç½®å‡½æ•°æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Filter"><span class="toc-text">1ã€Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Reducer"><span class="toc-text">2ã€Reducer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Kernel"><span class="toc-text">3ã€Kernel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QA%E6%B3%A2%E6%AE%B5%E5%8E%BB%E4%BA%91"><span class="toc-text">QAæ³¢æ®µå»äº‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%B1%E5%83%8F%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%8C%B9%E9%85%8D"><span class="toc-text">å½±åƒç›´æ–¹å›¾åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8"><span class="toc-text">ä¸ƒã€ç®€å•åº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%87%BD%E6%95%B0%E5%BA%93%EF%BC%9A"><span class="toc-text">æ„å»ºå‡½æ•°åº“ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GEE%E4%B8%AD%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E9%97%AE%E9%A2%98"><span class="toc-text">GEEä¸­å†…å­˜æº¢å‡ºé—®é¢˜</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude fa-solid fa-map"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/08/GEE%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8/" title="GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨"><img alt="GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨" src="/img/default.avif"></a><div class="content"><span class="title" href="/2024/08/08/GEE%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8/" title="GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨">GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨</span><span class="article-recent_post_categories" href="/2024/08/08/GEE%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8/">é¥æ„Ÿ</span></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/08/hello-world/" title="æµ‹è¯•"><img alt="æµ‹è¯•" src="/img/default.avif"></a><div class="content"><span class="title" href="/2024/08/08/hello-world/" title="æµ‹è¯•">æµ‹è¯•</span><span class="article-recent_post_categories" href="/2024/08/08/hello-world/">Solitude</span></div></div></div></div></div></div></main><footer id="footer"><div id="st-footer-bar"><div class="footer-logo"><span>Solitude</span></div><div class="footer-bar-description">Articles from éšé£.</div><a class="footer-bar-link" href="/about/">Learn more</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/zhenc-cz" title="Github"><i class="solitude  fab fa-github"></i></a><a class="deal_link" href="/zhenc926@163.com" title="Mail"><i class="solitude  fab fa-envelope"></i></a></div><div id="st-footer"><div class="footer-group"><h3 class="footer-title">Navgation</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="Archives">Archives</a><a class="footer-item" href="/categories/" title="Categories">Categories</a><a class="footer-item" href="/tags/" title="Tags">Tags</a></div></div><div class="footer-group"><h3 class="footer-title">Server</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener" href="https://aliyun.com/" title="Aliyun">Aliyun</a><a class="footer-item" target="_blank" rel="noopener" href="https://v6.51.la/" title="51la">51la</a></div></div><div class="footer-group"><h3 class="footer-title">Arrangement</h3><div class="footer-links"><a class="footer-item" href="/cookies/" title="Cookies">Cookies</a><a class="footer-item" href="/privacy/" title="Privacy">Privacy</a><a class="footer-item" href="/copyright/" title="Copyright">Copyright</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2024 By&nbsp;<a class="footer-bar-link" href="/">éšé£</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" alt="Theme">Theme</a><a class="footer-bar-link cc" href="/%5Bobject%20Object%5D,%5Bobject%20Object%5D" aria-label="copyright"><i class="solitude fa-solid fa-copyright"></i><i class="solitude fa-brands fa-creative-commons-by"></i><i class="solitude fa-brands fa-creative-commons-nc"></i><i class="solitude fa-brands fa-creative-commons-nd"></i></a></div></div></div></footer></div><!-- right_menu--><!-- inject body--><div><script src="/js/utils.js?v=2.0.7"></script><script src="/js/main.js?v=2.0.7"></script><script src="/js/third_party/waterfall.min.js?v=2.0.7"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/js/third_party/universe.min.js?v=2.0.7"></script><script>dark()
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><div class="js-pjax"></div></div><!-- pjax--><script>const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: ['title','#body-wrap','#site-config','meta[name="description"]','.js-pjax','meta[property^="og:"]','#config-diff'],
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    typeof rm === 'object' && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><!-- google adsense--><!-- search--><!-- Tianli-Talk--><!-- music--></body></html><script>const posts=["2024/08/08/GEEåŸºç¡€è¯­æ³•ä¸åº”ç”¨/","2024/08/08/hello-world/"];function toRandomPost(){ pjax.loadUrl(GLOBAL_CONFIG.root+posts[Math.floor(Math.random()*posts.length)]); }</script>